<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZimGetHired - The fastest way to hire and get hired in Zimbabwe</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='25' fill='%23047857'/><rect y='25' width='100' height='25' fill='%23FCD116'/><rect y='50' width='100' height='25' fill='%23DE2010'/><rect y='75' width='100' height='25' fill='%231f2937'/><text x='50' y='55' font-size='40' font-weight='bold' fill='white' text-anchor='middle'>Z</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --emerald: #047857;
            --deep-emerald: #065f46;
            --gold: #D4AF37;
            --charcoal: #1f2937;
            --light-gold: #fef3c7;
            --zim-green: #00843D;
            --zim-yellow: #FCD116;
            --zim-red: #DE2010;
            --glass-bg: rgba(255, 255, 255, 0.88);
            --glass-border: rgba(255, 255, 255, 0.3);
            --shadow-soft: 0 8px 32px rgba(4, 120, 87, 0.12);
            --shadow-hover: 0 12px 40px rgba(4, 120, 87, 0.18);
            --bg-primary: #f9fafb;
            --text-dark: #111827;
            --text-muted: #6b7280;
            --whatsapp-green: #25D366;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f9fafb 0%, #ecfdf5 100%);
            background-attachment: fixed;
            color: var(--text-dark);
            line-height: 1.6;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(4, 120, 87, 0.04) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(212, 175, 55, 0.04) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            padding: 20px 0;
            box-shadow: var(--shadow-soft);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo {
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.5px;
        }

        .logo span {
            background: linear-gradient(135deg, var(--gold) 0%, #b8860b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 20px;
            background: white;
            border-radius: 50px;
            border: 2px solid rgba(4, 120, 87, 0.1);
        }

        .user-menu .user-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
        }

        .user-menu .user-info {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .user-menu .user-name {
            font-weight: 600;
            font-size: 14px;
            color: var(--text-dark);
        }

        .user-menu .user-role {
            font-size: 11px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
        }

        .btn-login, .btn-signup {
            padding: 10px 24px;
            border: none;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
        }

        .btn-login {
            background: white;
            color: var(--emerald);
            border: 2px solid var(--emerald);
        }

        .btn-login:hover {
            background: var(--emerald);
            color: white;
        }

        .btn-signup {
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
            color: white;
        }

        .btn-signup:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(4, 120, 87, 0.3);
        }

        .btn-logout {
            padding: 8px 20px;
            background: #dc2626;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-logout:hover {
            background: #991b1b;
            transform: translateY(-2px);
        }

        .nav-tabs {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .nav-tab {
            padding: 12px 28px;
            background: white;
            border: 2px solid transparent;
            color: var(--text-dark);
            cursor: pointer;
            border-radius: 50px;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .nav-tab:hover {
            background: var(--emerald);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(4, 120, 87, 0.3);
        }

        .nav-tab.active {
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
            color: white;
            box-shadow: 0 8px 20px rgba(4, 120, 87, 0.4);
        }

        .nav-tab.hidden {
            display: none;
        }

        .section {
            display: none;
            padding: 40px 0;
            min-height: 80vh;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero {
            background: linear-gradient(135deg, rgba(4, 120, 87, 0.95) 0%, rgba(6, 95, 70, 0.95) 100%),
                        url('https://i.imgur.com/ScImUS2.jpeg');
            background-size: cover;
            background-position: center;
            color: white;
            border-radius: 30px;
            padding: 80px 40px;
            text-align: center;
            margin-bottom: 40px;
            box-shadow: var(--shadow-hover);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 500px;
            height: 500px;
            background: rgba(212, 175, 55, 0.15);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(5deg); }
        }

        .hero h1 {
            font-size: 3em;
            margin-bottom: 20px;
            font-weight: 800;
            position: relative;
            z-index: 1;
        }

        .hero p {
            font-size: 1.3em;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .ticker-wrap {
            background: linear-gradient(135deg, var(--charcoal) 0%, #374151 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: var(--shadow-soft);
            overflow: hidden;
        }

        .ticker-badge {
            background: var(--gold);
            color: var(--charcoal);
            padding: 4px 12px;
            border-radius: 8px;
            font-weight: 700;
            font-size: 11px;
            letter-spacing: 1px;
            white-space: nowrap;
        }

        .value-props {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .value-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .value-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--emerald), var(--gold));
        }

        .value-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }

        .value-card h3 {
            color: var(--emerald);
            margin-bottom: 20px;
            font-size: 1.6em;
            font-weight: 700;
        }

        .value-card .highlight {
            font-size: 1.2em;
            font-weight: 600;
            color: var(--charcoal);
            margin: 25px 0;
            padding: 20px;
            background: linear-gradient(135deg, var(--light-gold) 0%, #fef9e7 100%);
            border-radius: 15px;
            border-left: 4px solid var(--gold);
        }

        .form-container {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-dark);
            font-size: 14px;
            letter-spacing: 0.3px;
        }

        input[type="text"],
        input[type="email"],
        input[type="password"],
        input[type="tel"],
        input[type="date"],
        input[type="time"],
        textarea,
        select {
            width: 100%;
            padding: 14px 20px;
            border: 2px solid rgba(4, 120, 87, 0.1);
            border-radius: 15px;
            font-size: 15px;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
            background: white;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--emerald);
            box-shadow: 0 0 0 4px rgba(4, 120, 87, 0.1);
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        .role-search-container {
            margin-bottom: 15px;
        }

        .role-search {
            width: 100%;
            padding: 14px 20px;
            border: 2px solid rgba(4, 120, 87, 0.1);
            border-radius: 15px;
            font-size: 15px;
            font-family: 'Poppins', sans-serif;
            margin-bottom: 15px;
        }

        .role-search:focus {
            outline: none;
            border-color: var(--emerald);
            box-shadow: 0 0 0 4px rgba(4, 120, 87, 0.1);
        }

        .role-tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 15px;
            background: white;
            border-radius: 15px;
            min-height: 60px;
            border: 2px dashed rgba(4, 120, 87, 0.2);
        }

        .role-tag {
            padding: 8px 16px;
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
            color: white;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .role-tag:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(4, 120, 87, 0.3);
        }

        .role-tag .remove {
            cursor: pointer;
            font-weight: bold;
        }

        .role-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }

        .role-option {
            padding: 15px;
            background: white;
            border: 2px solid rgba(4, 120, 87, 0.1);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 13px;
            font-weight: 600;
        }

        .role-option:hover {
            border-color: var(--emerald);
            background: rgba(4, 120, 87, 0.05);
            transform: translateY(-2px);
        }

        .role-option.selected {
            border-color: var(--emerald);
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(4, 120, 87, 0.3);
        }

        .select-all-btn {
            display: inline-block;
            padding: 10px 20px;
            background: linear-gradient(135deg, var(--gold) 0%, #b8860b 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }

        .select-all-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
        }

        .whatsapp-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .whatsapp-prefix {
            padding: 14px 15px;
            background: var(--emerald);
            color: white;
            border-radius: 15px;
            font-weight: 600;
            border: 2px solid var(--emerald);
        }

        .whatsapp-input {
            flex: 1;
        }

        .file-upload {
            border: 2px dashed var(--emerald);
            padding: 30px;
            text-align: center;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .file-upload:hover {
            background: rgba(4, 120, 87, 0.05);
            border-color: var(--deep-emerald);
        }

        .file-upload input[type="file"] {
            display: none;
        }

        .file-name {
            margin-top: 12px;
            color: var(--emerald);
            font-weight: 600;
        }

        .file-error {
            margin-top: 12px;
            color: #dc2626;
            font-weight: 600;
        }

        .btn {
            padding: 16px 32px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            font-family: 'Poppins', sans-serif;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
            color: white;
            box-shadow: 0 8px 20px rgba(4, 120, 87, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(4, 120, 87, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--gold) 0%, #b8860b 100%);
            color: white;
            box-shadow: 0 8px 20px rgba(212, 175, 55, 0.3);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
            box-shadow: 0 8px 20px rgba(220, 38, 38, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--whatsapp-green) 0%, #128c7e 100%);
            color: white;
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.3);
        }

        .btn-block {
            width: 100%;
        }

        .login-gate-message {
            background: linear-gradient(135deg, var(--light-gold) 0%, #fef9e7 100%);
            border: 2px solid var(--gold);
            color: var(--charcoal);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            margin: 40px 0;
            box-shadow: var(--shadow-soft);
        }

        .login-gate-message h3 {
            color: var(--emerald);
            margin-bottom: 15px;
            font-weight: 700;
        }

        .login-gate-message p {
            margin-bottom: 25px;
            font-size: 16px;
            line-height: 1.8;
        }
		.quiz-container {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 35px;
            border-radius: 25px;
            margin-top: 25px;
            box-shadow: var(--shadow-soft);
        }

        .question {
            margin-bottom: 30px;
        }

        .question h4 {
            margin-bottom: 18px;
            color: var(--emerald);
            font-weight: 600;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 16px 20px;
            border: 2px solid rgba(4, 120, 87, 0.2);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .option:hover {
            border-color: var(--emerald);
            background: rgba(4, 120, 87, 0.05);
            transform: translateX(5px);
        }

        .option.selected {
            border-color: var(--emerald);
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
            color: white;
            box-shadow: 0 6px 20px rgba(4, 120, 87, 0.3);
        }

        .candidate-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 35px;
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            margin-bottom: 25px;
            box-shadow: var(--shadow-soft);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .candidate-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(180deg, var(--emerald), var(--gold));
        }

        .candidate-card.premium-match {
            border: 3px solid var(--gold);
            box-shadow: 0 12px 40px rgba(212, 175, 55, 0.3);
        }

        .candidate-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .premium-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--gold) 0%, #b8860b 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4);
        }

        .hidden-gem-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 0.5px;
            display: inline-block;
            margin-top: 10px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .candidate-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .candidate-info h3 {
            color: var(--emerald);
            margin-bottom: 8px;
            font-weight: 700;
        }

        .match-score {
            text-align: center;
            min-width: 110px;
        }

        .score-circle {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: 700;
            margin: 0 auto 12px;
            box-shadow: 0 8px 25px rgba(4, 120, 87, 0.4);
            position: relative;
        }

        .score-circle::after {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border-radius: 50%;
            border: 3px solid var(--gold);
            opacity: 0.5;
        }

        .progress-bar {
            background: rgba(4, 120, 87, 0.1);
            height: 12px;
            border-radius: 10px;
            overflow: hidden;
            flex: 1;
            margin-left: 20px;
            max-width: 220px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--emerald), var(--gold));
            transition: width 0.6s ease;
            border-radius: 10px;
        }

        .skills-match {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .skill-tag {
            padding: 8px 18px;
            border-radius: 50px;
            font-size: 13px;
            font-weight: 600;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
        }

        .skill-matched {
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(4, 120, 87, 0.3);
        }

        .skill-missing {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            color: #dc2626;
            border: 2px solid #dc2626;
        }

        .whatsapp-btn {
            background: linear-gradient(135deg, var(--whatsapp-green) 0%, #128c7e 100%);
            color: white;
            padding: 14px 28px;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.3);
        }

        .whatsapp-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(37, 211, 102, 0.4);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: var(--glass-bg);
            backdrop-filter: blur(30px);
            padding: 40px;
            border-radius: 30px;
            max-width: 550px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--glass-border);
        }

        .close-btn {
            font-size: 28px;
            cursor: pointer;
            color: var(--text-muted);
            background: none;
            border: none;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            color: #dc2626;
            transform: rotate(90deg);
        }

        .success-message {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border: 2px solid var(--emerald);
            color: #065f46;
            padding: 30px;
            border-radius: 20px;
            margin: 25px 0;
            text-align: center;
            box-shadow: var(--shadow-soft);
        }

        .success-message h3 {
            color: var(--emerald);
            margin-bottom: 15px;
            font-weight: 700;
        }

        .error-message {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border: 2px solid #dc2626;
            color: #991b1b;
            padding: 30px;
            border-radius: 20px;
            margin: 25px 0;
            text-align: center;
            box-shadow: var(--shadow-soft);
        }

        .error-message h3 {
            color: #dc2626;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .admin-table {
            width: 100%;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow-soft);
        }

        .admin-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .admin-table th {
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .admin-table td {
            padding: 15px;
            border-bottom: 1px solid rgba(4, 120, 87, 0.1);
        }

        .admin-table tr:hover {
            background: rgba(4, 120, 87, 0.05);
        }

        .job-board-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
        }

        .job-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 30px;
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
            transition: all 0.3s ease;
            position: relative;
        }

        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .job-card.inactive {
            opacity: 0.6;
            filter: grayscale(50%);
        }

        .job-status-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 6px 14px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .job-status-live {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .job-status-paused {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
        }

        .job-status-expired {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
        }

        .stats-pulse {
            position: fixed;
            right: 20px;
            bottom: 20px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 20px;
            border-radius: 20px;
            box-shadow: var(--shadow-hover);
            border: 1px solid var(--glass-border);
            z-index: 99;
            min-width: 200px;
        }

        .stats-pulse h4 {
            color: var(--emerald);
            font-size: 14px;
            margin-bottom: 12px;
            font-weight: 700;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 13px;
            border-bottom: 1px solid rgba(4, 120, 87, 0.1);
        }

        .stat-value {
            color: var(--emerald);
            font-weight: 700;
        }

        .career-tips, .insights-sidebar {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 30px;
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
            margin-bottom: 30px;
        }

        .career-tips h3, .insights-sidebar h3 {
            color: var(--emerald);
            margin-bottom: 20px;
            font-weight: 700;
        }

        .tip-item, .insight-item {
            display: flex;
            gap: 15px;
            padding: 18px;
            background: white;
            border-radius: 12px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .tip-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(4, 120, 87, 0.1);
        }

        .tip-icon {
            font-size: 24px;
            min-width: 30px;
        }

        .news-section {
            margin: 60px 0;
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .news-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 30px;
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .news-card h4 {
            color: var(--emerald);
            margin-bottom: 15px;
            font-weight: 700;
            font-size: 1.1em;
        }

        .news-card .news-excerpt {
            color: var(--text-muted);
            font-size: 0.95em;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .news-tag {
            display: inline-block;
            padding: 5px 12px;
            background: var(--emerald);
            color: white;
            border-radius: 15px;
            font-size: 11px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .salary-benchmark {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 25px;
            margin: 60px 0;
            box-shadow: var(--shadow-soft);
        }

        .salary-search {
            width: 100%;
            max-width: 500px;
            padding: 15px 20px;
            border: 2px solid rgba(4, 120, 87, 0.2);
            border-radius: 15px;
            font-size: 15px;
            font-family: 'Poppins', sans-serif;
            margin: 20px 0;
        }

        .salary-table {
            width: 100%;
            margin-top: 25px;
            border-collapse: collapse;
        }

        .salary-table th {
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .salary-table td {
            padding: 15px;
            border-bottom: 1px solid rgba(4, 120, 87, 0.1);
        }

        .salary-table tr:hover {
            background: rgba(4, 120, 87, 0.05);
        }

        .cv-resource-center {
            margin: 60px 0;
        }

        .cv-tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .cv-tip-card {
            background: white;
            padding: 25px;
            border-radius: 20px;
            border: 2px solid rgba(4, 120, 87, 0.1);
            transition: all 0.3s ease;
        }

        .cv-tip-card:hover {
            border-color: var(--emerald);
            box-shadow: 0 8px 20px rgba(4, 120, 87, 0.15);
        }

        .cv-tip-card h4 {
            color: var(--emerald);
            margin-bottom: 12px;
            font-weight: 700;
        }

        .data-saver-toggle {
            position: fixed;
            top: 100px;
            right: 20px;
            background: var(--charcoal);
            color: white;
            padding: 12px 20px;
            border-radius: 50px;
            cursor: pointer;
            z-index: 99;
            font-size: 13px;
            font-weight: 600;
            box-shadow: var(--shadow-soft);
            transition: all 0.3s ease;
        }

        .data-saver-toggle:hover {
            background: var(--emerald);
            transform: scale(1.05);
        }

        .job-fair-indicator {
            position: fixed;
            bottom: 250px;
            right: 20px;
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 20px;
            z-index: 98;
            cursor: pointer;
            animation: pulse 2s ease-in-out infinite;
            box-shadow: 0 8px 25px rgba(220, 38, 38, 0.4);
        }

        .job-fair-indicator::before {
            content: 'üî¥';
            margin-right: 8px;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50%, 100% { opacity: 1; }
            25%, 75% { opacity: 0.5; }
        }

        body.data-saver-mode {
            background: #f9fafb;
        }

        body.data-saver-mode .hero,
        body.data-saver-mode .value-card,
        body.data-saver-mode .candidate-card {
            animation: none !important;
            transition: none !important;
        }

        body.data-saver-mode .hero::before {
            display: none;
        }

        body.data-saver-mode::before {
            display: none;
        }

        body.data-saver-mode .hero {
            background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%);
        }

        .verified-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 6px 12px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border-radius: 15px;
            font-size: 11px;
            font-weight: 700;
            margin-top: 8px;
        }

        .interview-scheduler {
            margin-top: 20px;
            padding: 25px;
            background: linear-gradient(135deg, var(--light-gold) 0%, #fef9e7 100%);
            border-radius: 15px;
            border-left: 5px solid var(--gold);
        }

        .scheduler-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .action-buttons .btn {
            flex: 1;
            min-width: 140px;
        }

        .job-manage-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .job-manage-btn.pause {
            background: #f59e0b;
            color: white;
        }

        .job-manage-btn.activate {
            background: #10b981;
            color: white;
        }

        .job-manage-btn.delete {
            background: #dc2626;
            color: white;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 0;
            border-bottom: 1px solid rgba(4, 120, 87, 0.1);
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .explanation {
            background: linear-gradient(135deg, var(--light-gold) 0%, #fef9e7 100%);
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid var(--gold);
            margin: 20px 0;
            font-size: 14px;
        }

        .explanation strong {
            color: var(--emerald);
            font-weight: 700;
        }

        .storage-warning {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 2px solid #f59e0b;
            color: #92400e;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            font-size: 14px;
        }

        .cv-template-grid {
            display: grid;
            gap: 20px;
            margin-top: 25px;
        }

        .cv-template-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid rgba(4, 120, 87, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .cv-template-card:hover {
            border-color: var(--emerald);
            box-shadow: 0 8px 20px rgba(4, 120, 87, 0.15);
        }

        .cv-template-preview {
            background: #f3f4f6;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            font-size: 12px;
            line-height: 1.6;
            max-height: 300px;
            overflow-y: auto;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .dashboard-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            padding: 30px;
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
        }

        .dashboard-card h4 {
            color: var(--emerald);
            margin-bottom: 15px;
            font-weight: 700;
        }

        .profile-preview {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 15px;
        }

        .profile-preview img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--emerald);
        }

        .profile-picture-upload {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px dashed var(--emerald);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin: 0 auto 20px;
            background: white;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .profile-picture-upload:hover {
            border-color: var(--deep-emerald);
            background: rgba(4, 120, 87, 0.05);
        }

        .profile-picture-upload img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-picture-upload .placeholder {
            font-size: 48px;
            color: var(--emerald);
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2em;
            }

            .hero {
                padding: 50px 25px;
            }

            .value-props {
                grid-template-columns: 1fr;
            }

            .candidate-header {
                flex-direction: column;
            }

            .stats-pulse {
                display: none;
            }

            .job-board-grid {
                grid-template-columns: 1fr;
            }

            .scheduler-grid {
                grid-template-columns: 1fr;
            }

            .news-grid,
            .cv-tips-grid {
                grid-template-columns: 1fr;
            }

            .data-saver-toggle,
            .job-fair-indicator {
                display: none;
            }

            .header-right {
                width: 100%;
                justify-content: space-between;
            }

            .auth-buttons {
                width: 100%;
                justify-content: flex-end;
            }
        }

        ::selection {
            background: var(--emerald);
            color: white;
        }

        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--emerald);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--deep-emerald);
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">Zim<span>Get</span>Hired</div>
                <div class="header-right">
                    <nav class="nav-tabs">
                        <button class="nav-tab active" onclick="showSection('home')">üè† Home</button>
                        <button class="nav-tab" onclick="showSection('jobboard')">üìã Job Board</button>
                        <button class="nav-tab" id="jobseekerTab" onclick="handleJobSeekerClick()">üë§ Job Seeker</button>
                        <button class="nav-tab" id="employerTab" onclick="handleEmployerClick()">üíº Employer</button>
                        <button class="nav-tab" onclick="showAdminSection()">‚öôÔ∏è Admin</button>
                    </nav>
                    <div id="authSection">
                        <!-- Auth buttons or user menu will be inserted here -->
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
	<section id="home" class="section active">
            <div class="hero">
                <h1>üáøüáº Welcome to ZimGetHired</h1>
                <p>The fastest way to hire and get hired in Zimbabwe</p>
            </div>

            <div class="ticker-wrap">
                <span class="ticker-badge">üí° LIVE</span>
                <div class="ticker-content">
                    <marquee>Job Seekers: Profiles with Video Intros get 4x more WhatsApp interview requests! | Employers: <span id="ticker-seekers">20</span>+ active candidates ready to start immediately | New: Apply directly from our Job Board | Pro Tip: Complete your profile for cross-role discovery!</marquee>
                </div>
            </div>

            <div class="value-props">
                <div class="value-card">
                    <h3>For Employers</h3>
                    <p>Stop wasting weeks reviewing hundreds of CVs. Our AI discovers hidden talent across roles and delivers instant matches with WhatsApp contact.</p>
                    <div class="highlight">
                        "See unlimited matched candidates instantly with direct WhatsApp contact."
                    </div>
                    <ul style="text-align: left; margin-top: 20px; color: var(--text-muted); line-height: 2;">
                        <li>‚úì AI-powered cross-role discovery</li>
                        <li>‚úì Direct WhatsApp contact for all candidates</li>
                        <li>‚úì Job persistence with alerts for new matches</li>
                        <li>‚úì Premium Top 5 + unlimited additional matches</li>
                    </ul>
                </div>

                <div class="value-card">
                    <h3>For Job Seekers</h3>
                    <p>Create one profile and get discovered for ALL matching roles. Apply directly from our Job Board or get contacted automatically when you're a match.</p>
                    <div class="highlight">
                        "Get discovered for roles you didn't even apply to."
                    </div>
                    <ul style="text-align: left; margin-top: 20px; color: var(--text-muted); line-height: 2;">
                        <li>‚úì Select unlimited professional roles</li>
                        <li>‚úì Direct WhatsApp communication</li>
                        <li>‚úì Browse & apply from Job Board</li>
                        <li>‚úì Professional personality assessment</li>
                    </ul>
                </div>
            </div>

            <div class="news-section">
                <div class="form-container">
                    <h2 style="color: var(--emerald); margin-bottom: 15px; font-weight: 700;">üì∞ Zim Market Pulse</h2>
                    <p style="color: var(--text-muted);">Stay informed about Zimbabwe's economy and job market trends</p>
                </div>

                <div class="news-grid">
                    <div class="news-card" onclick="showNewsArticle('econet')">
                        <span class="news-tag">TELECOM</span>
                        <h4>Econet InfraCo Expands Fiber Network</h4>
                        <p class="news-excerpt">Zimbabwe's largest telecom operator is rolling out fiber infrastructure across major cities, creating hundreds of technical jobs...</p>
                        <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 13px;">Read Full Article ‚Üí</button>
                    </div>

                    <div class="news-card" onclick="showNewsArticle('lithium')">
                        <span class="news-tag">MINING</span>
                        <h4>Lithium Mining Boom Creates 5,000+ Jobs</h4>
                        <p class="news-excerpt">Zimbabwe's lithium sector is experiencing unprecedented growth with new mines opening in Goromonzi and Mutoko regions...</p>
                        <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 13px;">Read Full Article ‚Üí</button>
                    </div>

                    <div class="news-card" onclick="showNewsArticle('tobacco')">
                        <span class="news-tag">AGRICULTURE</span>
                        <h4>Record Tobacco Season Opens Strong</h4>
                        <p class="news-excerpt">Zimbabwe's tobacco marketing season has opened with record volumes, signaling strong demand for agricultural workers and logistics staff...</p>
                        <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 13px;">Read Full Article ‚Üí</button>
                    </div>

                    <div class="news-card" onclick="showNewsArticle('gdp')">
                        <span class="news-tag">ECONOMY</span>
                        <h4>Zimbabwe GDP Growth Hits 8.5%</h4>
                        <p class="news-excerpt">The IMF projects Zimbabwe's economy to grow by 8.5% in 2026, driven by mining, agriculture, and tourism sectors...</p>
                        <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 13px;">Read Full Article ‚Üí</button>
                    </div>

                    <div class="news-card" onclick="showNewsArticle('vicfalls')">
                        <span class="news-tag">TECH HUB</span>
                        <h4>Victoria Falls Tech Hub Launches</h4>
                        <p class="news-excerpt">A new technology innovation hub in Victoria Falls aims to attract digital nomads and create 200+ tech jobs in the tourism capital...</p>
                        <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 13px;">Read Full Article ‚Üí</button>
                    </div>
                </div>
            </div>

            <div class="salary-benchmark">
                <h2 style="color: var(--emerald); margin-bottom: 15px; font-weight: 700;">üí∞ Salary Benchmark Tool</h2>
                <p style="color: var(--text-muted); margin-bottom: 25px;">Compare average monthly salaries across major cities</p>
                
                <input type="text" id="salarySearch" class="salary-search" placeholder="üîç Search by role (e.g., 'Developer', 'Sales')..." onkeyup="filterSalaryTable()">

                <div style="overflow-x: auto;">
                    <table class="salary-table" id="salaryTable">
                        <thead>
                            <tr>
                                <th>Role</th>
                                <th>Harare (USD)</th>
                                <th>Bulawayo (USD)</th>
                                <th>Experience Level</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Junior Developer</strong></td>
                                <td>$450 - $750</td>
                                <td>$400 - $650</td>
                                <td>0-2 years</td>
                            </tr>
                            <tr>
                                <td><strong>Senior Developer</strong></td>
                                <td>$1,200 - $2,000</td>
                                <td>$1,000 - $1,700</td>
                                <td>5+ years</td>
                            </tr>
                            <tr>
                                <td><strong>Sales Representative</strong></td>
                                <td>$350 - $600 + Commission</td>
                                <td>$300 - $550 + Commission</td>
                                <td>1-3 years</td>
                            </tr>
                            <tr>
                                <td><strong>Marketing Manager</strong></td>
                                <td>$800 - $1,400</td>
                                <td>$700 - $1,200</td>
                                <td>3-5 years</td>
                            </tr>
                            <tr>
                                <td><strong>Admin Assistant</strong></td>
                                <td>$280 - $450</td>
                                <td>$250 - $400</td>
                                <td>0-2 years</td>
                            </tr>
                            <tr>
                                <td><strong>Accountant</strong></td>
                                <td>$600 - $1,000</td>
                                <td>$550 - $900</td>
                                <td>3-5 years</td>
                            </tr>
                            <tr>
                                <td><strong>Graphic Designer</strong></td>
                                <td>$400 - $700</td>
                                <td>$350 - $600</td>
                                <td>1-3 years</td>
                            </tr>
                            <tr>
                                <td><strong>HR Manager</strong></td>
                                <td>$750 - $1,300</td>
                                <td>$650 - $1,100</td>
                                <td>5+ years</td>
                            </tr>
                            <tr>
                                <td><strong>Teacher</strong></td>
                                <td>$350 - $600</td>
                                <td>$320 - $550</td>
                                <td>2-5 years</td>
                            </tr>
                            <tr>
                                <td><strong>Nurse</strong></td>
                                <td>$400 - $700</td>
                                <td>$380 - $650</td>
                                <td>2-5 years</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="cv-resource-center">
                <div class="form-container">
                    <h2 style="color: var(--emerald); margin-bottom: 15px; font-weight: 700;">üìÑ Perfect CV Resource Center</h2>
                    <p style="color: var(--text-muted);">Tools and tips to create a winning CV for the Zimbabwean job market</p>
                </div>

                <div class="cv-tips-grid">
                    <div class="cv-tip-card">
                        <h4>üéØ The STAR Method</h4>
                        <p style="color: var(--text-muted); margin-bottom: 15px; line-height: 1.7;">
                            <strong style="color: var(--emerald);">S</strong>ituation: Set the context<br>
                            <strong style="color: var(--emerald);">T</strong>ask: Describe your responsibility<br>
                            <strong style="color: var(--emerald);">A</strong>action: Explain what you did<br>
                            <strong style="color: var(--emerald);">R</strong>esult: Share the outcome
                        </p>
                        <p style="font-size: 13px; color: var(--text-muted);">
                            Example: "Increased sales by 35% in Q3 2025 by implementing a new customer follow-up system using WhatsApp Business."
                        </p>
                    </div>

                    <div class="cv-tip-card">
                        <h4>üì• Need a CV?</h4>
                        <p style="color: var(--text-muted); margin-bottom: 15px;">
                            View professional CV templates tailored for Zimbabwean employers.
                        </p>
                        <button class="btn btn-primary" style="padding: 10px 20px; font-size: 13px;" onclick="showCVTemplates()">
                            View Professional Templates
                        </button>
                    </div>

                    <div class="cv-tip-card">
                        <h4>üì± WhatsApp CV Tips</h4>
                        <p style="color: var(--text-muted); line-height: 1.7; font-size: 14px;">
                            ‚úì Use a professional WhatsApp DP<br>
                            ‚úì Keep your status updated with job-seeking intent<br>
                            ‚úì Respond to employers within 2 hours<br>
                            ‚úì Send CV as PDF, not Word doc<br>
                            ‚úì Include a brief intro message
                        </p>
                    </div>

                    <div class="cv-tip-card">
                        <h4>‚ö†Ô∏è Common CV Mistakes</h4>
                        <p style="color: var(--text-muted); line-height: 1.7; font-size: 14px;">
                            ‚úó Using unprofessional email addresses<br>
                            ‚úó Including photo (unless requested)<br>
                            ‚úó Listing duties instead of achievements<br>
                            ‚úó Generic objective statements<br>
                            ‚úó Spelling/grammar errors
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <section id="jobboard" class="section">
            <div class="form-container">
                <h2 style="color: var(--emerald); margin-bottom: 15px; font-weight: 700;">Public Job Board</h2>
                <p style="color: var(--text-muted); margin-bottom: 35px;">Browse all available positions and apply directly. Your match score will be calculated automatically!</p>
            </div>

            <div id="jobBoardContainer" class="job-board-grid">
            </div>
        </section>

        <section id="jobseeker" class="section">
            <div id="jobseekerContent">
                <!-- Content will be loaded dynamically based on auth state -->
            </div>
        </section>

        <section id="jobseeker-dashboard" class="section">
            <div class="form-container">
                <h2 style="color: var(--emerald); margin-bottom: 15px; font-weight: 700;">My Dashboard</h2>
                <p style="color: var(--text-muted); margin-bottom: 35px;">Manage your profile and track your applications</p>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h4>üìÑ My Profile</h4>
                    <div id="profileSummary"></div>
                    <button class="btn btn-primary btn-block" onclick="editProfile()" style="margin-top: 15px;">
                        Edit Profile
                    </button>
                </div>

                <div class="dashboard-card">
                    <h4>üíº Matched Jobs</h4>
                    <div id="matchedJobsList"></div>
                </div>

                <div class="dashboard-card">
                    <h4>üìä Profile Statistics</h4>
                    <div id="profileStats"></div>
                </div>
            </div>
        </section>

        <section id="employer" class="section">
            <div id="employerContent">
                <!-- Content will be loaded dynamically based on auth state -->
            </div>
        </section>

        <section id="employer-dashboard" class="section">
            <div class="form-container">
                <h2 style="color: var(--emerald); margin-bottom: 15px; font-weight: 700;">Employer Dashboard</h2>
                <p style="color: var(--text-muted); margin-bottom: 35px;">Manage your job postings and view candidates</p>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h4>üìã My Job Postings</h4>
                    <div id="employerJobsList"></div>
                </div>

                <div class="dashboard-card">
                    <h4>üîç Search History</h4>
                    <div id="searchHistoryList"></div>
                </div>

                <div class="dashboard-card">
                    <h4>üìä Statistics</h4>
                    <div id="employerStats"></div>
                </div>
            </div>
        </section>

        <section id="admin" class="section">
            <div class="form-container">
                <h2 style="color: var(--emerald); margin-bottom: 15px; font-weight: 700;">Admin Dashboard</h2>
                <p style="color: var(--text-muted); margin-bottom: 35px;">Monitor platform activity and manage users</p>

                <div style="margin-bottom: 40px;">
                    <h3 style="color: var(--emerald); margin-bottom: 20px;">üìä Platform Statistics</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        <div style="background: linear-gradient(135deg, var(--emerald) 0%, var(--deep-emerald) 100%); color: white; padding: 25px; border-radius: 20px; text-align: center;">
                            <div style="font-size: 36px; font-weight: 700;" id="admin_total_seekers">0</div>
                            <div style="font-size: 14px; opacity: 0.9;">Total Job Seekers</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--gold) 0%, #b8860b 100%); color: white; padding: 25px; border-radius: 20px; text-align: center;">
                            <div style="font-size: 36px; font-weight: 700;" id="admin_total_jobs">0</div>
                            <div style="font-size: 14px; opacity: 0.9;">Total Jobs Posted</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; padding: 25px; border-radius: 20px; text-align: center;">
                            <div style="font-size: 36px; font-weight: 700;" id="admin_total_searches">0</div>
                            <div style="font-size: 14px; opacity: 0.9;">Employer Searches</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--whatsapp-green) 0%, #128c7e 100%); color: white; padding: 25px; border-radius: 20px; text-align: center;">
                            <div style="font-size: 36px; font-weight: 700;" id="admin_total_applications">0</div>
                            <div style="font-size: 14px; opacity: 0.9;">Total Applications</div>
                        </div>
                    </div>
                </div>

                <div id="storageWarning" style="display: none;"></div>

                <div style="margin-bottom: 40px;">
                    <h3 style="color: var(--emerald); margin-bottom: 20px;">üë• All Job Seekers</h3>
                    <div class="admin-table" id="adminJobSeekersTable">
                    </div>
                </div>

                <div style="margin-bottom: 40px;">
                    <h3 style="color: var(--emerald); margin-bottom: 20px;">üíº All Posted Jobs</h3>
                    <div class="admin-table" id="adminJobsTable">
                    </div>
                </div>

                <div>
                    <h3 style="color: var(--emerald); margin-bottom: 20px;">üîç Recent Employer Searches</h3>
                    <div class="admin-table" id="adminSearchLogTable">
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div class="data-saver-toggle" onclick="toggleDataSaver()">
        üì± Data Saver: <span id="dataSaverStatus">OFF</span>
    </div>

    <div class="job-fair-indicator" onclick="showJobFair()">
        <strong>LIVE NOW</strong><br>
        <small>Virtual Job Fair</small>
    </div>

    <div class="stats-pulse">
        <h4>üî• Live Stats</h4>
        <div class="stat-row">
            <span>Job Seekers:</span>
            <span class="stat-value" id="stat-seekers">20</span>
        </div>
        <div class="stat-row">
            <span>Active Jobs:</span>
            <span class="stat-value" id="stat-jobs">0</span>
        </div>
        <div class="stat-row">
            <span>Matches Today:</span>
            <span class="stat-value" id="stat-matches">0</span>
        </div>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
                <h3 id="modalTitle" style="color: var(--emerald); font-weight: 700;"></h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalBody">
            </div>
        </div>
    </div>
	<script>
        const ADMIN_PASSWORD = "ZimHire2026!";
        const MAX_CV_SIZE = 2 * 1024 * 1024;
        const MAX_VIDEO_SIZE = 10 * 1024 * 1024;
        const STORAGE_WARNING_THRESHOLD = 0.8;
        
        // Authentication state
        let currentUser = null;

        function getDeviceID() {
            let deviceID = localStorage.getItem('zgh_device_id');
            if (!deviceID) {
                deviceID = 'device_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('zgh_device_id', deviceID);
            }
            return deviceID;
        }

        const DEVICE_ID = getDeviceID();

        class AuthSystem {
            constructor() {
                this.loadCurrentUser();
            }

            loadCurrentUser() {
                const userData = localStorage.getItem('zgh_current_user');
                if (userData) {
                    try {
                        currentUser = JSON.parse(userData);
                    } catch (e) {
                        currentUser = null;
                    }
                }
            }

            saveCurrentUser(user) {
                currentUser = user;
                localStorage.setItem('zgh_current_user', JSON.stringify(user));
            }

            logout() {
                currentUser = null;
                localStorage.removeItem('zgh_current_user');
                location.reload();
            }

            signup(email, password, role, name) {
                const users = JSON.parse(localStorage.getItem('zgh_users') || '[]');
                
                // Check if email already exists
                const existingUser = users.find(u => u.email === email);
                if (existingUser) {
                    return { success: false, error: 'Email already registered' };
                }

                const user = {
                    id: Date.now(),
                    email,
                    password, // In production, this should be hashed
                    role, // 'jobseeker' or 'employer'
                    name,
                    createdAt: new Date().toISOString()
                };

                users.push(user);
                localStorage.setItem('zgh_users', JSON.stringify(users));
                
                return { success: true, user };
            }

            login(email, password) {
                const users = JSON.parse(localStorage.getItem('zgh_users') || '[]');
                const user = users.find(u => u.email === email && u.password === password);
                
                if (user) {
                    this.saveCurrentUser(user);
                    return { success: true, user };
                }
                
                return { success: false, error: 'Invalid email or password' };
            }

            isLoggedIn() {
                return currentUser !== null;
            }

            getUserRole() {
                return currentUser ? currentUser.role : null;
            }

            getUserEmail() {
                return currentUser ? currentUser.email : null;
            }

            getUserId() {
                return currentUser ? currentUser.id : null;
            }
        }

        const auth = new AuthSystem();

        class PersistentStorage {
            constructor() {
                this.loadAll();
                this.checkStorageHealth();
            }

            loadAll() {
                try {
                    this.jobSeekers = JSON.parse(localStorage.getItem('zgh_jobSeekers')) || [];
                    this.postedJobs = JSON.parse(localStorage.getItem('zgh_postedJobs')) || [];
                    this.employerSearchLog = JSON.parse(localStorage.getItem('zgh_searchLog')) || [];
                    this.applicationLog = JSON.parse(localStorage.getItem('zgh_applications')) || [];
                    
                    if (this.jobSeekers.length === 0) {
                        this.seedDemoProfiles();
                    }
                    if (this.postedJobs.length === 0) {
                        this.seedDemoJobs();
                    }
                } catch (e) {
                    console.error('Error loading data:', e);
                    this.jobSeekers = [];
                    this.postedJobs = [];
                    this.employerSearchLog = [];
                    this.applicationLog = [];
                    this.seedDemoProfiles();
                    this.seedDemoJobs();
                }
                
                this.removeExpiredJobs();
            }

            save(key, data) {
                try {
                    const serialized = JSON.stringify(data);
                    localStorage.setItem(key, serialized);
                    this.checkStorageHealth();
                    return true;
                } catch (e) {
                    if (e.name === 'QuotaExceededError') {
                        alert('‚ùå Storage limit reached! Please contact administrator to clear old data.');
                    }
                    return false;
                }
            }

            checkStorageHealth() {
                try {
                    let total = 0;
                    for (let key in localStorage) {
                        if (localStorage.hasOwnProperty(key)) {
                            total += localStorage[key].length + key.length;
                        }
                    }
                    
                    const limit = 5 * 1024 * 1024;
                    const percentage = total / limit;
                    
                    const warningDiv = document.getElementById('storageWarning');
                    if (warningDiv && percentage >= STORAGE_WARNING_THRESHOLD) {
                        warningDiv.style.display = 'block';
                        warningDiv.innerHTML = `
                            <div class="storage-warning">
                                <strong>‚ö†Ô∏è Storage Warning:</strong> Database is ${Math.round(percentage * 100)}% full. 
                                Consider archiving old data or contact administrator.
                                <br><small>Current usage: ${(total / 1024 / 1024).toFixed(2)}MB / ${(limit / 1024 / 1024).toFixed(2)}MB</small>
                            </div>
                        `;
                    } else if (warningDiv) {
                        warningDiv.style.display = 'none';
                    }
                } catch (e) {
                    console.error('Storage health check failed:', e);
                }
            }

            addJobSeeker(profile) {
                if (this.jobSeekers.length >= 2000) {
                    alert('Registration limit reached! Maximum 2000 profiles allowed.');
                    return false;
                }
                this.jobSeekers.push(profile);
                return this.save('zgh_jobSeekers', this.jobSeekers);
            }

            updateJobSeeker(id, updates) {
                const index = this.jobSeekers.findIndex(js => js.id === id);
                if (index !== -1) {
                    this.jobSeekers[index] = { ...this.jobSeekers[index], ...updates };
                    return this.save('zgh_jobSeekers', this.jobSeekers);
                }
                return false;
            }

            getJobSeekerByUserId(userId) {
                return this.jobSeekers.find(js => js.userId === userId);
            }

            addJob(job) {
                this.postedJobs.push(job);
                return this.save('zgh_postedJobs', this.postedJobs);
            }

            addSearchLog(log) {
                this.employerSearchLog.unshift(log);
                if (this.employerSearchLog.length > 1000) {
                    this.employerSearchLog = this.employerSearchLog.slice(0, 1000);
                }
                this.save('zgh_searchLog', this.employerSearchLog);
            }

            addApplication(app) {
                this.applicationLog.push(app);
                this.save('zgh_applications', this.applicationLog);
            }

            deleteJobSeeker(id) {
                this.jobSeekers = this.jobSeekers.filter(js => js.id !== id);
                this.save('zgh_jobSeekers', this.jobSeekers);
            }

            deleteJob(id) {
                this.postedJobs = this.postedJobs.filter(j => j.id !== id);
                this.save('zgh_postedJobs', this.postedJobs);
            }

            toggleJobStatus(id) {
                const job = this.postedJobs.find(j => j.id === id);
                if (job) {
                    job.isLive = !job.isLive;
                    this.save('zgh_postedJobs', this.postedJobs);
                }
            }

            removeExpiredJobs() {
                const now = new Date();
                const before = this.postedJobs.length;
                this.postedJobs = this.postedJobs.filter(job => {
                    const deadline = new Date(job.deadline);
                    return deadline >= now;
                });
                if (before !== this.postedJobs.length) {
                    this.save('zgh_postedJobs', this.postedJobs);
                }
            }

            seedDemoProfiles() {
                this.jobSeekers = [
                    {
                        id: 1001,
                        name: "Tendai Moyo",
                        whatsapp: "772345678",
                        email: "tendai.moyo@email.com",
                        location: "Harare",
                        roles: ["Junior Developer", "Web Designer"],
                        skills: ["JavaScript", "React", "HTML", "CSS", "Git", "Node.js"],
                        experience: "1-3",
                        cvText: "Experienced web developer with 2 years building modern web applications. Proficient in React, Node.js, and responsive design. Created e-commerce platform increasing client sales by 40%.",
                        cvFile: null,
                        videoFile: null,
                        personalityScore: 100,
                        createdAt: new Date().toISOString(),
                        deviceID: 'demo',
                        userId: null
                    },
                    {
                        id: 1002,
                        name: "Rudo Ncube",
                        whatsapp: "773456789",
                        email: "rudo.ncube@email.com",
                        location: "Bulawayo",
                        roles: ["Sales Representative", "Marketing Manager"],
                        skills: ["Communication", "Negotiation", "CRM", "Sales", "Customer Service"],
                        experience: "3-5",
                        cvText: "Results-driven sales professional with 4 years experience. Exceeded targets by 120% in 2025. Expert in relationship building, CRM systems, and closing high-value deals.",
                        cvFile: null,
                        videoFile: null,
                        personalityScore: 100,
                        createdAt: new Date().toISOString(),
                        deviceID: 'demo',
                        userId: null
                    },
                    {
                        id: 1003,
                        name: "Tatenda Chikwanha",
                        whatsapp: "774567890",
                        email: "tatenda.c@email.com",
                        location: "Harare",
                        roles: ["Admin Assistant", "Office Manager"],
                        skills: ["Microsoft Office", "Excel", "Organization", "Data Entry", "Communication"],
                        experience: "1-3",
                        cvText: "Detail-oriented administrator with 2 years managing office operations. Advanced Excel skills including pivot tables and VLOOKUP. Streamlined filing system reducing retrieval time by 60%.",
                        cvFile: null,
                        videoFile: null,
                        personalityScore: 80,
                        createdAt: new Date().toISOString(),
                        deviceID: 'demo',
                        userId: null
                    },
                    {
                        id: 1004,
                        name: "Farai Mpofu",
                        whatsapp: "775678901",
                        email: "farai.m@email.com",
                        location: "Mutare",
                        roles: ["Teacher", "Education Coordinator"],
                        skills: ["Lesson Planning", "Student Assessment", "Classroom Management", "Curriculum Development", "Communication"],
                        experience: "5+",
                        cvText: "Dedicated educator with 7 years teaching secondary mathematics and science. Improved student pass rates by 35%. Experienced in Cambridge curriculum. Strong communication and mentoring skills.",
                        cvFile: null,
                        videoFile: null,
                        personalityScore: 100,
                        createdAt: new Date().toISOString(),
                        deviceID: 'demo',
                        userId: null
                    },
                    {
                        id: 1005,
                        name: "Panashe Sibanda",
                        whatsapp: "776789012",
                        email: "panashe.s@email.com",
                        location: "Bulawayo",
                        roles: ["Graphic Designer", "UI/UX Designer"],
                        skills: ["Photoshop", "Illustrator", "Figma", "UI/UX", "Branding", "Typography"],
                        experience: "3-5",
                        cvText: "Creative designer with 4 years crafting visual identities for local brands. Expert in Adobe Creative Suite, Figma prototyping, and brand strategy. Portfolio includes work for 20+ Zimbabwean companies.",
                        cvFile: null,
                        videoFile: null,
                        personalityScore: 100,
                        createdAt: new Date().toISOString(),
                        deviceID: 'demo',
                        userId: null
                    }
                ];
                
                this.save('zgh_jobSeekers', this.jobSeekers);
            }

            seedDemoJobs() {
                const now = new Date();
                const getDeadline = (daysFromNow) => {
                    const d = new Date(now);
                    d.setDate(d.getDate() + daysFromNow);
                    return d.toISOString().split('T')[0];
                };

                this.postedJobs = [
                    {
                        id: 2001,
                        company: "Econet Wireless Zimbabwe",
                        whatsapp: "712345678",
                        email: "hr@econet.co.zw",
                        jobTitle: "Junior Software Developer",
                        roleCategory: "Technology",
                        description: "We're seeking a talented junior developer to join our innovation team. You'll work on mobile and web applications serving millions of Zimbabweans. Requirements: JavaScript, React, Node.js experience. Fresh graduates encouraged to apply!",
                        deadline: getDeadline(30),
                        preferences: ["energetic"],
                        isLive: true,
                        postedAt: new Date().toISOString(),
                        posterID: 'demo',
                        userId: null
                    },
                    {
                        id: 2002,
                        company: "Delta Beverages",
                        whatsapp: "713456789",
                        email: "recruitment@delta.co.zw",
                        jobTitle: "Sales Representative - Harare North",
                        roleCategory: "Sales & Marketing",
                        description: "Join Zimbabwe's leading beverage company! We need driven sales professionals to manage key accounts across Harare North. Requirements: 2+ years sales experience, own transport preferred, excellent communication skills. Attractive commission structure.",
                        deadline: getDeadline(21),
                        preferences: ["experienced", "energetic"],
                        isLive: true,
                        postedAt: new Date().toISOString(),
                        posterID: 'demo',
                        userId: null
                    }
                ];
                
                this.save('zgh_postedJobs', this.postedJobs);
            }
        }

        const storage = new PersistentStorage();
        let jobSeekers = storage.jobSeekers;
        let postedJobs = storage.postedJobs;
        let employerSearchLog = storage.employerSearchLog;
        let applicationLog = storage.applicationLog;
        let selectedRoles = [];
        let testAnswers = [];
        let cvFileData = null;
        let videoFileData = null;
        let profilePictureData = null;

        const PROFESSIONAL_ROLES = [
            "Junior Developer", "Senior Developer", "Web Designer", "IT Support", "Network Administrator",
            "Data Analyst", "Software Engineer", "Mobile App Developer",
            "Sales Representative", "Marketing Manager", "Business Development", "Account Manager",
            "Digital Marketer", "Brand Manager", "Sales Coordinator",
            "Admin Assistant", "Office Manager", "Receptionist", "Executive Assistant",
            "Data Entry Clerk", "Secretary", "Office Administrator",
            "Accountant", "Bookkeeper", "Financial Analyst", "Auditor", "Payroll Officer",
            "Tax Consultant", "Finance Manager",
            "Nurse", "Pharmacist", "Medical Doctor", "Physiotherapist", "Lab Technician",
            "Healthcare Assistant", "Radiographer",
            "Teacher", "Lecturer", "Teaching Assistant", "Education Coordinator",
            "School Administrator", "Tutor",
            "Hotel Manager", "Chef", "Waiter/Waitress", "Tour Guide", "Front Desk Officer",
            "Restaurant Manager", "Bartender",
            "Farm Manager", "Agricultural Officer", "Agronomist", "Livestock Manager",
            "Irrigation Specialist", "Farm Supervisor",
            "Civil Engineer", "Architect", "Quantity Surveyor", "Construction Manager",
            "Electrician", "Plumber", "Carpenter", "Site Supervisor",
            "Mining Engineer", "Geologist", "Mine Supervisor", "Safety Officer",
            "Plant Operator", "Drilling Operator",
            "Graphic Designer", "Photographer", "Videographer", "UI/UX Designer",
            "Content Creator", "Copywriter",
            "Lawyer", "Legal Secretary", "Paralegal", "Compliance Officer",
            "HR Manager", "Recruitment Officer", "HR Assistant", "Training Coordinator",
            "Driver", "Logistics Manager", "Warehouse Manager", "Supply Chain Officer",
            "Dispatch Officer",
            "Customer Service Representative", "Call Center Agent", "Client Relations Officer",
            "Project Manager", "Operations Manager", "Security Officer", "Cleaner",
            "Maintenance Technician", "Quality Control Officer"
        ].sort();

        const PERSONALITY_TEST = [
            {
                question: "How do you handle workplace conflicts?",
                options: [
                    "Address issues directly and professionally",
                    "Avoid confrontation and hope issues resolve",
                    "Seek mediation from a supervisor",
                    "Discuss with colleagues to find consensus"
                ],
                correct: 0
            },
            {
                question: "What best describes your approach to punctuality?",
                options: [
                    "Always arrive early to prepare",
                    "Arrive exactly on time",
                    "Occasionally run a few minutes late",
                    "Flexible with timing"
                ],
                correct: 0
            },
            {
                question: "How do you prefer to work on team projects?",
                options: [
                    "Take initiative and lead the team",
                    "Contribute ideas and collaborate equally",
                    "Support others and complete assigned tasks",
                    "Prefer to work independently"
                ],
                correct: 1
            },
            {
                question: "When faced with a tight deadline, you:",
                options: [
                    "Stay calm and prioritize tasks efficiently",
                    "Ask for help from team members",
                    "Work extra hours to complete on time",
                    "Inform supervisor if deadline isn't feasible"
                ],
                correct: 0
            },
            {
                question: "How do you handle constructive criticism?",
                options: [
                    "Welcome it as an opportunity to improve",
                    "Listen politely but feel defensive",
                    "Take time to process before responding",
                    "Immediately implement suggested changes"
                ],
                correct: 0
            }
        ];

        const NEWS_ARTICLES = {
            econet: {
                title: "Econet InfraCo Expands Fiber Network Across Zimbabwe",
                tag: "TELECOM",
                fullText: `Econet Wireless Zimbabwe's infrastructure division, InfraCo, has announced a massive expansion of its fiber optic network across the country's major urban centers. The initiative will create over 400 technical jobs in the next 12 months.

The expansion targets Harare, Bulawayo, Gweru, Mutare, and Masvingo, with plans to connect an additional 50,000 homes and businesses to high-speed internet. This infrastructure development is part of Zimbabwe's digital transformation agenda.

"We're not just building networks; we're building careers," said InfraCo's CEO. "We're actively recruiting fiber technicians, network engineers, customer service representatives, and sales professionals."

Job seekers interested in the telecom sector should highlight skills such as technical troubleshooting, customer service, networking fundamentals, and communication skills on their profiles.`
            },
            lithium: {
                title: "Zimbabwe's Lithium Mining Boom Creates 5,000+ Jobs",
                tag: "MINING",
                fullText: `Zimbabwe's lithium sector is experiencing unprecedented growth, with new mines opening in Goromonzi, Mutoko, and the Midlands region. The expansion is projected to create over 5,000 direct jobs and 15,000 indirect employment opportunities by the end of 2026.

Major international mining companies are investing billions in Zimbabwe's lithium deposits, which are among the largest in Africa. Entry-level positions start at $600-$800 per month, with experienced professionals earning $1,500-$3,000.

Job seekers should emphasize skills such as safety protocols, heavy machinery operation, geological analysis, project management, and environmental compliance.`
            },
            tobacco: {
                title: "Record Tobacco Season Opens Strong - Thousands of Jobs Available",
                tag: "AGRICULTURE",
                fullText: `Zimbabwe's 2026 tobacco marketing season has opened with record volumes, signaling a robust year for the agricultural sector. Over 8,000 seasonal and permanent positions are available across farms, auction floors, processing facilities, and logistics operations.

Average monthly wages range from $350-$500 for entry-level positions to $1,200-$2,000 for supervisory roles. Many positions include accommodation, meals, and transport.

Peak hiring will continue through March, with opportunities available in Harare, Chinhoyi, Karoi, and other major tobacco-growing regions.`
            },
            gdp: {
                title: "Zimbabwe GDP Growth Hits 8.5% - Economic Expansion Creates Jobs",
                tag: "ECONOMY",
                fullText: `The International Monetary Fund (IMF) has projected Zimbabwe's economy to grow by 8.5% in 2026, driven by strong performance in mining, agriculture, and tourism sectors.

Over 200,000 new formal sector jobs are projected to be created in 2026. Job seekers should focus on developing in-demand skills such as digital literacy, financial management, customer service, and technical specializations relevant to growth sectors.`
            },
            vicfalls: {
                title: "Victoria Falls Tech Hub Launches - 200+ Digital Jobs Created",
                tag: "TECH HUB",
                fullText: `A new technology and innovation hub has officially launched in Victoria Falls, creating over 200 jobs in its first year. The hub offers co-working spaces, high-speed internet, and training programs.

Starting salaries for tech positions range from $800-$1,500 per month. Training programs in coding, digital marketing, and graphic design are being offered free of charge to qualifying applicants.`
            }
        };

        // Initialize UI based on auth state
        function initializeUI() {
            updateAuthUI();
            updateNavigationTabs();
            loadJobSeekerContent();
            loadEmployerContent();
        }

        function updateAuthUI() {
            const authSection = document.getElementById('authSection');
            
            if (auth.isLoggedIn()) {
                const initials = currentUser.name ? currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase() : currentUser.email[0].toUpperCase();
                authSection.innerHTML = `
                    <div class="user-menu">
                        <div class="user-avatar">${initials}</div>
                        <div class="user-info">
                            <div class="user-name">${currentUser.name || currentUser.email}</div>
                            <div class="user-role">${currentUser.role === 'jobseeker' ? 'Job Seeker' : 'Employer'}</div>
                        </div>
                    </div>
                    <button class="btn-logout" onclick="handleLogout()">Logout</button>
                `;
            } else {
                authSection.innerHTML = `
                    <div class="auth-buttons">
                        <button class="btn-login" onclick="showLoginModal()">Login</button>
                        <button class="btn-signup" onclick="showSignupModal()">Sign Up</button>
                    </div>
                `;
            }
        }

        function updateNavigationTabs() {
            const jobseekerTab = document.getElementById('jobseekerTab');
            const employerTab = document.getElementById('employerTab');
            
            if (!auth.isLoggedIn()) {
                // Show both tabs for non-logged-in users
                jobseekerTab.classList.remove('hidden');
                employerTab.classList.remove('hidden');
            } else {
                // Show only relevant tab based on role
                if (auth.getUserRole() === 'jobseeker') {
                    jobseekerTab.classList.remove('hidden');
                    employerTab.classList.add('hidden');
                } else if (auth.getUserRole() === 'employer') {
                    jobseekerTab.classList.add('hidden');
                    employerTab.classList.remove('hidden');
                }
            }
        }

        function handleLogout() {
            if (confirm('Are you sure you want to logout?')) {
                auth.logout();
            }
        }

        function showLoginModal() {
            showModal('Login to ZimGetHired', `
                <div class="form-container">
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" id="login_email" placeholder="your@email.com" required>
                    </div>
                    <div class="form-group">
                        <label>Password *</label>
                        <input type="password" id="login_password" placeholder="Enter password" required>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="handleLogin()">
                        Login
                    </button>
                    <p style="text-align: center; margin-top: 20px; color: var(--text-muted);">
                        Don't have an account? <a href="#" onclick="closeModal(); showSignupModal()" style="color: var(--emerald); font-weight: 600;">Sign Up</a>
                    </p>
                </div>
            `);
        }

        function showSignupModal() {
            showModal('Create Your Account', `
                <div class="form-container">
                    <div class="form-group">
                        <label>Full Name *</label>
                        <input type="text" id="signup_name" placeholder="Your full name" required>
                    </div>
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" id="signup_email" placeholder="your@email.com" required>
                    </div>
                    <div class="form-group">
                        <label>Password *</label>
                        <input type="password" id="signup_password" placeholder="Create a password (min 6 characters)" required>
                    </div>
                    <div class="form-group">
                        <label>I am a: *</label>
                        <select id="signup_role" required>
                            <option value="">Select your role...</option>
                            <option value="jobseeker">Job Seeker - Looking for opportunities</option>
                            <option value="employer">Employer - Hiring talent</option>
                        </select>
                        <small style="color: var(--text-muted); display: block; margin-top: 8px;">
                            ‚ö†Ô∏è You can only select ONE role. To use both, you must register with different emails.
                        </small>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="handleSignup()">
                        Create Account
                    </button>
                    <p style="text-align: center; margin-top: 20px; color: var(--text-muted);">
                        Already have an account? <a href="#" onclick="closeModal(); showLoginModal()" style="color: var(--emerald); font-weight: 600;">Login</a>
                    </p>
                </div>
            `);
        }

        function handleLogin() {
            const email = document.getElementById('login_email').value.trim();
            const password = document.getElementById('login_password').value;

            if (!email || !password) {
                alert('Please fill in all fields');
                return;
            }

            const result = auth.login(email, password);
            
            if (result.success) {
                closeModal();
                initializeUI();
                showSection('home');
                alert('‚úÖ Welcome back!');
            } else {
                alert('‚ùå ' + result.error);
            }
        }

        function handleSignup() {
            const name = document.getElementById('signup_name').value.trim();
            const email = document.getElementById('signup_email').value.trim();
            const password = document.getElementById('signup_password').value;
            const role = document.getElementById('signup_role').value;

            if (!name || !email || !password || !role) {
                alert('Please fill in all fields');
                return;
            }

            if (password.length < 6) {
                alert('Password must be at least 6 characters');
                return;
            }

            const result = auth.signup(email, password, role, name);
            
            if (result.success) {
                // Auto-login after signup
                auth.saveCurrentUser(result.user);
                closeModal();
                initializeUI();
                showSection('home');
                alert('‚úÖ Account created successfully! Welcome to ZimGetHired!');
            } else {
                alert('‚ùå ' + result.error);
            }
        }
function handleJobSeekerClick() {
            if (!auth.isLoggedIn()) {
                showSection('jobseeker');
                return;
            }
            
            if (auth.getUserRole() === 'jobseeker') {
                // Check if profile exists
                const profile = storage.getJobSeekerByUserId(auth.getUserId());
                if (profile) {
                    showSection('jobseeker-dashboard');
                    loadJobSeekerDashboard();
                } else {
                    showSection('jobseeker');
                }
            }
        }

        function handleEmployerClick() {
            if (!auth.isLoggedIn()) {
                showSection('employer');
                return;
            }
            
            if (auth.getUserRole() === 'employer') {
                showSection('employer-dashboard');
                loadEmployerDashboard();
            }
        }

        function loadJobSeekerContent() {
            const container = document.getElementById('jobseekerContent');
            
            if (!auth.isLoggedIn() || auth.getUserRole() !== 'jobseeker') {
                // Show login gate
                container.innerHTML = `
                    <div class="login-gate-message">
                        <h3>üéØ Login to submit your profile, CV and get job offers today</h3>
                        <p>Create your professional profile and get matched with top employers in Zimbabwe.</p>
                        <p style="font-weight: 600; margin-top: 15px;">‚úì Upload CV & Video Introduction</p>
                        <p style="font-weight: 600;">‚úì Get matched with relevant jobs automatically</p>
                        <p style="font-weight: 600;">‚úì Direct WhatsApp contact from employers</p>
                        <div style="display: flex; gap: 15px; justify-content: center; margin-top: 25px;">
                            <button class="btn btn-primary" onclick="showLoginModal()">Login</button>
                            <button class="btn btn-secondary" onclick="showSignupModal()">Create Account</button>
                        </div>
                    </div>
                `;
                return;
            }

            // User is logged in as job seeker - check if profile exists
            const existingProfile = storage.getJobSeekerByUserId(auth.getUserId());
            
            if (existingProfile) {
                // Profile exists - redirect to dashboard
                showSection('jobseeker-dashboard');
                loadJobSeekerDashboard();
                return;
            }

            // Show profile creation form
            container.innerHTML = `
                <div class="career-tips">
                    <h3>üöÄ The Zim Career Edge</h3>
                    <div class="tip-item">
                        <div class="tip-icon">üí¨</div>
                        <div class="tip-content">
                            <strong>WhatsApp Etiquette</strong>
                            <p>Reply within 2 hours to stay at the top of employer lists. Quick responses show professionalism.</p>
                        </div>
                    </div>
                    <div class="tip-item">
                        <div class="tip-icon">üé•</div>
                        <div class="tip-content">
                            <strong>Video Introduction Power</strong>
                            <p>4x more interview requests! Keep it 30-60 seconds, smile, and mention your top 3 skills.</p>
                        </div>
                    </div>
                    <div class="tip-item">
                        <div class="tip-icon">üéØ</div>
                        <div class="tip-content">
                            <strong>Cross-Role Discovery</strong>
                            <p>Our AI matches you to roles you didn't select if your skills fit. Select ALL relevant roles!</p>
                        </div>
                    </div>
                </div>

                <div class="form-container">
                    <h2 style="color: var(--emerald); margin-bottom: 15px; font-weight: 700;">Create Your Profile</h2>
                    <p style="color: var(--text-muted); margin-bottom: 35px;">Fill out your profile once and get matched with relevant opportunities automatically</p>

                    <form id="jobseekerForm">
                        <div class="form-group">
                            <label>Profile Picture (Optional)</label>
                            <div class="profile-picture-upload" onclick="document.getElementById('profile_picture').click()">
                                <input type="file" id="profile_picture" accept="image/*" style="display: none;">
                                <div id="profile_picture_preview">
                                    <div class="placeholder">üì∑</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Full Name *</label>
                            <input type="text" id="js_name" required placeholder="e.g. Tendai Moyo" value="${currentUser.name || ''}">
                        </div>

                        <div class="form-group">
                            <label>WhatsApp Number * (Zimbabwe)</label>
                            <div class="whatsapp-input-group">
                                <div class="whatsapp-prefix">+263</div>
                                <input type="tel" id="js_whatsapp" class="whatsapp-input" required placeholder="77 123 4567" maxlength="10">
                            </div>
                            <small style="color: var(--text-muted); display: block; margin-top: 8px;">Enter your number without the +263 (e.g., 77 123 4567)</small>
                        </div>

                        <div class="form-group">
                            <label>Email *</label>
                            <input type="email" id="js_email" required placeholder="e.g. tendai@example.com" value="${currentUser.email}" readonly style="background: #f3f4f6;">
                        </div>

                        <div class="form-group">
                            <label>City/Location *</label>
                            <select id="js_location" required>
                                <option value="">Select city...</option>
                                <option value="Harare">Harare</option>
                                <option value="Bulawayo">Bulawayo</option>
                                <option value="Mutare">Mutare</option>
                                <option value="Gweru">Gweru</option>
                                <option value="Kwekwe">Kwekwe</option>
                                <option value="Kadoma">Kadoma</option>
                                <option value="Masvingo">Masvingo</option>
                                <option value="Chinhoyi">Chinhoyi</option>
                                <option value="Victoria Falls">Victoria Falls</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Select Professional Roles * (Search or Select All)</label>
                            <button type="button" class="select-all-btn" onclick="selectAllRoles()">‚ú® Select All Roles</button>
                            
                            <div class="role-search-container">
                                <input type="text" class="role-search" id="roleSearch" placeholder="üîç Search roles..." onkeyup="filterRoles()">
                            </div>

                            <div class="role-tags-container" id="selectedRolesDisplay">
                                <span style="color: var(--text-muted); font-size: 13px;">Selected roles will appear here...</span>
                            </div>

                            <div class="role-grid" id="roleGrid">
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Skills (comma-separated) * - Add ALL your skills!</label>
                            <input type="text" id="js_skills" required placeholder="e.g. JavaScript, Excel, Communication, Sales, Photoshop">
                            <small style="color: var(--text-muted); display: block; margin-top: 8px;">üí° Include soft skills (Communication, Leadership) and technical skills for better matches!</small>
                        </div>

                        <div class="form-group">
                            <label>Years of Experience *</label>
                            <select id="js_experience" required>
                                <option value="">Select...</option>
                                <option value="0-1">0-1 years</option>
                                <option value="1-3">1-3 years</option>
                                <option value="3-5">3-5 years</option>
                                <option value="5+">5+ years</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Upload CV * (Max 2MB - PDF, DOC, DOCX only)</label>
                            <div class="file-upload" onclick="document.getElementById('cv_upload').click()">
                                <input type="file" id="cv_upload" accept=".pdf,.doc,.docx">
                                <p style="font-size: 18px; margin-bottom: 8px;">üìÑ</p>
                                <p style="font-weight: 600;">Click to upload CV</p>
                                <p style="font-size: 13px; color: var(--text-muted);">(PDF, DOC, DOCX - Max 2MB)</p>
                                <div id="cv_filename" class="file-name"></div>
                                <div id="cv_error" class="file-error"></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Upload Video Introduction (Recommended!) üåü (Max 10MB - MP4, MOV only)</label>
                            <div class="file-upload" onclick="document.getElementById('video_upload').click()">
                                <input type="file" id="video_upload" accept="video/mp4,video/quicktime">
                                <p style="font-size: 18px; margin-bottom: 8px;">üé•</p>
                                <p style="font-weight: 600;">Click to upload video</p>
                                <p style="font-size: 13px; color: var(--text-muted);">(MP4, MOV - Max 10MB - 4x more requests!)</p>
                                <div id="video_filename" class="file-name"></div>
                                <div id="video_error" class="file-error"></div>
                            </div>
                        </div>

                        <button type="button" class="btn btn-primary btn-block" onclick="startPersonalityTest()">
                            Continue to Personality Assessment ‚Üí
                        </button>
                    </form>

                    <div id="testSection" style="display: none;">
                    </div>

                    <div id="jobseekerSuccess" style="display: none;" class="success-message">
                        <h3>‚úÖ Profile Created Successfully!</h3>
                        <p>Your profile is now visible to employers on ZimGetHired.</p>
                        <p style="margin-top: 12px;">You'll be contacted via WhatsApp when you match with relevant opportunities!</p>
                    </div>
                </div>
            `;

            renderRoleGrid();
            initializeFileUploads();
        }

        function loadEmployerContent() {
            const container = document.getElementById('employerContent');
            
            if (!auth.isLoggedIn() || auth.getUserRole() !== 'employer') {
                // Show login gate
                container.innerHTML = `
                    <div class="login-gate-message">
                        <h3>üíº Login to get top matches and book interviews in 60 seconds</h3>
                        <p>Post jobs and instantly see matched candidates with direct WhatsApp contact.</p>
                        <p style="font-weight: 600; margin-top: 15px;">‚úì AI-powered candidate matching</p>
                        <p style="font-weight: 600;">‚úì Direct WhatsApp contact for all candidates</p>
                        <p style="font-weight: 600;">‚úì Schedule interviews instantly</p>
                        <div style="display: flex; gap: 15px; justify-content: center; margin-top: 25px;">
                            <button class="btn btn-primary" onclick="showLoginModal()">Login</button>
                            <button class="btn btn-secondary" onclick="showSignupModal()">Create Account</button>
                        </div>
                    </div>
                `;
                return;
            }

            // User is logged in as employer - show job posting form
            container.innerHTML = `
                <div class="insights-sidebar">
                    <h3>üìä Market Pulse - Live Insights</h3>
                    <div class="insight-item">
                        <strong>Salary Benchmark:</strong> Junior Web Developers in Harare: $450-$750/month average.
                    </div>
                    <div class="insight-item">
                        <strong>Hot Skills:</strong> React, Excel, and WhatsApp Business are most in-demand this month.
                    </div>
                    <div class="insight-item">
                        <strong>Quick-Hire Tip:</strong> Candidates with video intros respond 3x faster.
                    </div>
                    <div class="insight-item">
                        <strong>Cross-Role Discovery:</strong> Our AI finds hidden gems with transferable skills.
                    </div>
                </div>

                <div class="form-container">
                    <h2 style="color: var(--emerald); margin-bottom: 15px; font-weight: 700;">Post a Job & Get Instant Matches</h2>
                    <p style="color: var(--text-muted); margin-bottom: 35px;">Post once and get unlimited matched candidates with direct WhatsApp contact</p>

                    <form id="employerForm">
                        <div class="form-group">
                            <label>Company Name *</label>
                            <input type="text" id="emp_company" required placeholder="e.g. Tech Innovations Zim">
                        </div>

                        <div class="form-group">
                            <label>WhatsApp Number * (for alerts)</label>
                            <div class="whatsapp-input-group">
                                <div class="whatsapp-prefix">+263</div>
                                <input type="tel" id="emp_whatsapp" class="whatsapp-input" required placeholder="77 123 4567" maxlength="10">
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Email * (for alerts)</label>
                            <input type="email" id="emp_email" required placeholder="e.g. hr@company.com" value="${currentUser.email}">
                        </div>

                        <div class="form-group">
                            <label>Job Title *</label>
                            <input type="text" id="emp_jobtitle" required placeholder="e.g. Junior Web Developer">
                        </div>

                        <div class="form-group">
                            <label>Select Role Category *</label>
                            <select id="emp_role" required onchange="updateJobDescription()">
                                <option value="">Select a role category...</option>
                                <option value="Technology">Technology</option>
                                <option value="Sales & Marketing">Sales & Marketing</option>
                                <option value="Administration">Administration</option>
                                <option value="Design & Creative">Design & Creative</option>
                                <option value="Agriculture">Agriculture</option>
                                <option value="Healthcare">Healthcare</option>
                                <option value="Education">Education</option>
                                <option value="Hospitality">Hospitality</option>
                                <option value="Construction">Construction</option>
                                <option value="Mining">Mining</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Job Description *</label>
                            <textarea id="emp_description" required placeholder="Describe the role, responsibilities, and requirements..."></textarea>
                        </div>

                        <div class="form-group">
                            <label>Application Deadline *</label>
                            <input type="date" id="emp_deadline" required min="">
                            <small style="color: var(--text-muted); display: block; margin-top: 8px;">Job will automatically expire after this date</small>
                        </div>

                        <div class="form-group">
                            <label>What are you looking for? (Select preferences)</label>
                            <div class="role-grid">
                                <div class="role-option" onclick="toggleEmployerPreference(this, 'trustworthy')">
                                    <input type="checkbox" value="trustworthy" style="display: none;">
                                    ü§ù Trustworthy
                                </div>
                                <div class="role-option" onclick="toggleEmployerPreference(this, 'experienced')">
                                    <input type="checkbox" value="experienced" style="display: none;">
                                    ‚≠ê Experienced
                                </div>
                                <div class="role-option" onclick="toggleEmployerPreference(this, 'energetic')">
                                    <input type="checkbox" value="energetic" style="display: none;">
                                    ‚ö° Young & Energetic
                                </div>
                            </div>
                        </div>

                        <button type="button" class="btn btn-primary btn-block" onclick="postJobAndGetMatches()" style="font-size: 18px; padding: 20px;">
                            üöÄ Post Job & See All Matches
                        </button>
                    </form>
                </div>

                <div id="resultsSection" style="display: none;">
                    <div style="background: var(--glass-bg); backdrop-filter: blur(20px); padding: 35px; border-radius: 25px; margin-bottom: 25px; box-shadow: var(--shadow-soft);">
                        <h2 style="color: var(--emerald); margin-bottom: 12px; font-weight: 700;">All Matched Candidates</h2>
                        <p style="color: var(--text-muted);">Top 5 marked as Premium Matches. All others shown below with direct WhatsApp contact.</p>
                    </div>
                    <div id="candidatesList">
                    </div>
                </div>
            `;

            // Set minimum date for deadline
            const deadlineInput = document.getElementById('emp_deadline');
            if (deadlineInput) {
                const today = new Date().toISOString().split('T')[0];
                deadlineInput.setAttribute('min', today);
            }
        }

        function loadJobSeekerDashboard() {
            const profile = storage.getJobSeekerByUserId(auth.getUserId());
            
            if (!profile) {
                showSection('jobseeker');
                return;
            }

            // Profile Summary
            const profileSummary = document.getElementById('profileSummary');
            profileSummary.innerHTML = `
                <div class="profile-preview">
                    ${profile.profilePicture ? `<img src="${profile.profilePicture}" alt="Profile">` : ''}
                    <p style="margin-top: 15px;"><strong>${profile.name}</strong></p>
                    <p style="color: var(--text-muted); font-size: 14px;">üìç ${profile.location}</p>
                    <p style="color: var(--text-muted); font-size: 14px;">üìß ${profile.email}</p>
                    <p style="color: var(--text-muted); font-size: 14px;">üì± +263${profile.whatsapp}</p>
                    <p style="color: var(--emerald); font-weight: 600; margin-top: 10px;">
                        ${profile.roles.slice(0, 3).join(', ')}${profile.roles.length > 3 ? '...' : ''}
                    </p>
                    ${profile.cvFile ? `<button class="btn btn-secondary" style="margin-top: 10px; padding: 8px 16px; font-size: 13px;" onclick='viewCV(${JSON.stringify(profile.cvFile)}, "${profile.name}")'>üìÑ View CV</button>` : ''}
                    ${profile.videoFile ? `<button class="btn btn-secondary" style="margin-top: 10px; padding: 8px 16px; font-size: 13px;" onclick='playVideo(${JSON.stringify(profile.videoFile)}, "${profile.name}")'>üé• Watch Video</button>` : ''}
                </div>
            `;

            // Matched Jobs
            const matchedJobsList = document.getElementById('matchedJobsList');
            const activeJobs = postedJobs.filter(j => j.isLive && new Date(j.deadline) >= new Date());
            
            if (activeJobs.length === 0) {
                matchedJobsList.innerHTML = `<p style="color: var(--text-muted); text-align: center; padding: 20px;">No active jobs available yet</p>`;
            } else {
                // Show jobs matching the user's roles
                const matchingJobs = activeJobs.slice(0, 5);
                matchedJobsList.innerHTML = matchingJobs.map(job => `
                    <div style="padding: 15px; background: white; border-radius: 12px; margin-bottom: 12px;">
                        <strong style="color: var(--emerald);">${job.jobTitle}</strong><br>
                        <small style="color: var(--text-muted);">${job.company}</small><br>
                        <button class="btn btn-primary" style="margin-top: 10px; padding: 6px 14px; font-size: 12px;" onclick="applyToJob(${job.id})">
                            Apply Now
                        </button>
                    </div>
                `).join('');
            }

            // Profile Stats
            const profileStats = document.getElementById('profileStats');
            const myApplications = applicationLog.filter(app => app.applicantEmail === profile.email);
            profileStats.innerHTML = `
                <div style="padding: 15px; background: white; border-radius: 12px; margin-bottom: 12px;">
                    <strong>Profile Completeness</strong>
                    <div class="progress-bar" style="margin: 10px 0;">
                        <div class="progress-fill" style="width: ${profile.cvFile && profile.videoFile ? '100' : profile.cvFile ? '80' : '60'}%"></div>
                    </div>
                    <small style="color: var(--text-muted);">${profile.cvFile && profile.videoFile ? '100% - Excellent!' : profile.cvFile ? '80% - Add video for best results' : '60% - Complete your profile'}</small>
                </div>
                <div style="padding: 15px; background: white; border-radius: 12px; margin-bottom: 12px;">
                    <strong>Applications Submitted</strong>
                    <p style="font-size: 24px; font-weight: 700; color: var(--emerald); margin-top: 10px;">${myApplications.length}</p>
                </div>
                <div style="padding: 15px; background: white; border-radius: 12px;">
                    <strong>Match Score Average</strong>
                    <p style="font-size: 24px; font-weight: 700; color: var(--emerald); margin-top: 10px;">${profile.personalityScore}%</p>
                </div>
            `;
        }

        function loadEmployerDashboard() {
            const userId = auth.getUserId();
            const myJobs = postedJobs.filter(j => j.userId === userId);
            const mySearches = employerSearchLog.filter(s => s.userId === userId);

            // My Job Postings
            const employerJobsList = document.getElementById('employerJobsList');
            if (myJobs.length === 0) {
                employerJobsList.innerHTML = `<p style="color: var(--text-muted); text-align: center; padding: 20px;">No jobs posted yet</p>`;
            } else {
                employerJobsList.innerHTML = myJobs.map(job => {
                    const isExpired = new Date(job.deadline) < new Date();
                    return `
                        <div style="padding: 15px; background: white; border-radius: 12px; margin-bottom: 12px; border-left: 4px solid ${isExpired ? '#dc2626' : (job.isLive ? 'var(--emerald)' : '#f59e0b')};">
                            <strong style="color: var(--emerald);">${job.jobTitle}</strong><br>
                            <small style="color: var(--text-muted);">${job.company} ‚Ä¢ ${job.roleCategory}</small><br>
                            <small style="color: ${isExpired ? '#dc2626' : (job.isLive ? '#10b981' : '#f59e0b')}; font-weight: 600;">
                                ${isExpired ? '‚è∞ EXPIRED' : (job.isLive ? 'üü¢ LIVE' : '‚è∏Ô∏è PAUSED')}
                            </small>
                            <div style="margin-top: 10px; display: flex; gap: 8px;">
                                ${!isExpired ? `
                                    <button class="job-manage-btn ${job.isLive ? 'pause' : 'activate'}" onclick="toggleJobStatus(${job.id})" style="font-size: 11px; padding: 6px 12px;">
                                        ${job.isLive ? '‚è∏Ô∏è Pause' : '‚ñ∂Ô∏è Activate'}
                                    </button>
                                ` : ''}
                                <button class="job-manage-btn delete" onclick="deleteJob(${job.id})" style="font-size: 11px; padding: 6px 12px;">
                                    üóëÔ∏è Delete
                                </button>
                            </div>
                        </div>
                    `;
                }).join('');
            }

            // Search History
            const searchHistoryList = document.getElementById('searchHistoryList');
            if (mySearches.length === 0) {
                searchHistoryList.innerHTML = `<p style="color: var(--text-muted); text-align: center; padding: 20px;">No searches yet</p>`;
            } else {
                searchHistoryList.innerHTML = mySearches.slice(0, 10).map(search => `
                    <div style="padding: 12px; background: white; border-radius: 8px; margin-bottom: 8px;">
                        <strong style="font-size: 13px;">${search.jobTitle}</strong><br>
                        <small style="color: var(--text-muted);">${new Date(search.timestamp).toLocaleDateString()}</small>
                    </div>
                `).join('');
            }

            // Statistics
            const employerStats = document.getElementById('employerStats');
            employerStats.innerHTML = `
                <div style="padding: 15px; background: white; border-radius: 12px; margin-bottom: 12px;">
                    <strong>Total Jobs Posted</strong>
                    <p style="font-size: 24px; font-weight: 700; color: var(--emerald); margin-top: 10px;">${myJobs.length}</p>
                </div>
                <div style="padding: 15px; background: white; border-radius: 12px; margin-bottom: 12px;">
                    <strong>Active Jobs</strong>
                    <p style="font-size: 24px; font-weight: 700; color: var(--emerald); margin-top: 10px;">${myJobs.filter(j => j.isLive && new Date(j.deadline) >= new Date()).length}</p>
                </div>
                <div style="padding: 15px; background: white; border-radius: 12px;">
                    <strong>Total Searches</strong>
                    <p style="font-size: 24px; font-weight: 700; color: var(--emerald); margin-top: 10px;">${mySearches.length}</p>
                </div>
            `;
        }

        function editProfile() {
            // Redirect to job seeker section with edit mode
            showSection('jobseeker');
            loadJobSeekerContent();
        }

        function validateFile(file, maxSize, allowedTypes) {
            if (!file) return { valid: false, error: null };
            
            if (file.size > maxSize) {
                const maxSizeMB = maxSize / (1024 * 1024);
                return { valid: false, error: `File too large. Maximum size: ${maxSizeMB}MB` };
            }
            
            const fileType = file.type.toLowerCase();
            const isValidType = allowedTypes.some(type => fileType.includes(type));
            
            if (!isValidType) {
                return { valid: false, error: `Invalid file type. Allowed: ${allowedTypes.join(', ')}` };
            }
            
            return { valid: true, error: null };
        }

        function fileToDataURL(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = (e) => resolve(e.target.result);
                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        }

        async function extractTextFromFile(file) {
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const text = e.target.result;
                    const cleanText = text.replace(/[^\w\s.,;:!?-]/g, ' ');
                    resolve(cleanText);
                };
                reader.readAsText(file);
            });
        }

        function initializeFileUploads() {
            const profilePicture = document.getElementById('profile_picture');
            const cvUpload = document.getElementById('cv_upload');
            const videoUpload = document.getElementById('video_upload');
            
            if (profilePicture) {
                profilePicture.addEventListener('change', async function(e) {
                    const file = e.target.files[0];
                    const preview = document.getElementById('profile_picture_preview');
                    
                    if (!file) return;
                    
                    const validation = validateFile(file, 2 * 1024 * 1024, ['image/']);
                    
                    if (!validation.valid) {
                        alert(`‚ùå ${validation.error}`);
                        profilePicture.value = '';
                        return;
                    }
                    
                    try {
                        const dataURL = await fileToDataURL(file);
                        profilePictureData = dataURL;
                        preview.innerHTML = `<img src="${dataURL}" alt="Profile Picture">`;
                    } catch (error) {
                        alert(`‚ùå Error uploading image: ${error.message}`);
                        profilePicture.value = '';
                    }
                });
            }
            
            if (cvUpload) {
                cvUpload.addEventListener('change', async function(e) {
                    const file = e.target.files[0];
                    const errorDiv = document.getElementById('cv_error');
                    const filenameDiv = document.getElementById('cv_filename');
                    
                    errorDiv.textContent = '';
                    filenameDiv.textContent = '';
                    cvFileData = null;
                    
                    if (!file) return;
                    
                    const validation = validateFile(file, MAX_CV_SIZE, ['pdf', 'doc', 'docx', 'application/']);
                    
                    if (!validation.valid) {
                        errorDiv.textContent = `‚ùå ${validation.error}`;
                        cvUpload.value = '';
                        return;
                    }
                    
                    try {
                        const dataURL = await fileToDataURL(file);
                        let cvText = '';
                        
                        try {
                            cvText = await extractTextFromFile(file);
                        } catch (e) {
                            cvText = '';
                        }
                        
                        cvFileData = {
                            name: file.name,
                            type: file.type,
                            data: dataURL,
                            text: cvText
                        };
                        
                        filenameDiv.textContent = `‚úÖ ${file.name} uploaded successfully!`;
                    } catch (error) {
                        errorDiv.textContent = `‚ùå Error uploading file: ${error.message}`;
                        cvUpload.value = '';
                    }
                });
            }
            
            if (videoUpload) {
                videoUpload.addEventListener('change', async function(e) {
                    const file = e.target.files[0];
                    const errorDiv = document.getElementById('video_error');
                    const filenameDiv = document.getElementById('video_filename');
                    
                    errorDiv.textContent = '';
                    filenameDiv.textContent = '';
                    videoFileData = null;
                    
                    if (!file) return;
                    
                    const validation = validateFile(file, MAX_VIDEO_SIZE, ['video/mp4', 'video/quicktime']);
                    
                    if (!validation.valid) {
                        errorDiv.textContent = `‚ùå ${validation.error}`;
                        videoUpload.value = '';
                        return;
                    }
                    
                    try {
                        const dataURL = await fileToDataURL(file);
                        videoFileData = {
                            name: file.name,
                            type: file.type,
                            data: dataURL
                        };
                        
                        filenameDiv.textContent = `‚úÖ ${file.name} uploaded successfully!`;
                    } catch (error) {
                        errorDiv.textContent = `‚ùå Error uploading file: ${error.message}`;
                        videoUpload.value = '';
                    }
                });
            }
        }

        function viewCV(cvData, candidateName) {
            if (!cvData || !cvData.data) {
                showModal(`üìÑ CV: ${candidateName}`, `
                    <div class="error-message">
                        <h3>‚ùå CV Not Available</h3>
                        <p>This candidate's CV file is not available for viewing.</p>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="closeModal()">Close</button>
                `);
                return;
            }
            
            const newWindow = window.open('', '_blank');
            if (newWindow) {
                newWindow.document.write(`
                    <html>
                    <head>
                        <title>CV - ${candidateName}</title>
                        <style>
                            body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
                            iframe { width: 100%; height: calc(100vh - 40px); border: none; }
                        </style>
                    </head>
                    <body>
                        <h2>CV - ${candidateName}</h2>
                        <iframe src="${cvData.data}"></iframe>
                    </body>
                    </html>
                `);
                newWindow.document.close();
            } else {
                alert('Please allow popups to view the CV');
            }
        }

        function playVideo(videoData, candidateName) {
            if (!videoData || !videoData.data) {
                showModal(`üé• Video Introduction: ${candidateName}`, `
                    <div class="error-message">
                        <h3>‚ùå Video Not Available</h3>
                        <p>This candidate's video introduction is not available.</p>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="closeModal()">Close</button>
                `);
                return;
            }
            
            showModal(`üé• Video Introduction: ${candidateName}`, `
                <div style="text-align: center;">
                    <video controls style="width: 100%; max-width: 500px; border-radius: 15px;">
                        <source src="${videoData.data}" type="${videoData.type}">
                        Your browser does not support the video tag.
                    </video>
                </div>
                <button class="btn btn-primary btn-block" onclick="closeModal()" style="margin-top: 20px;">Close</button>
            `);
        }

        function showCVTemplates() {
            showModal('üìÑ Professional CV Templates', `
                <div class="cv-template-grid">
                    <div class="cv-template-card" onclick="viewTemplate('modern')">
                        <h4 style="color: var(--emerald);">üéØ Modern Professional</h4>
                        <p style="color: var(--text-muted); margin: 10px 0;">Best for: Corporate, Tech, Finance</p>
                        <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 13px;">View Template ‚Üí</button>
                    </div>
                    
                    <div class="cv-template-card" onclick="viewTemplate('technical')">
                        <h4 style="color: var(--emerald);">üîß Technical/Trade</h4>
                        <p style="color: var(--text-muted); margin: 10px 0;">Best for: Engineering, Mining, Construction</p>
                        <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 13px;">View Template ‚Üí</button>
                    </div>
                    
                    <div class="cv-template-card" onclick="viewTemplate('creative')">
                        <h4 style="color: var(--emerald);">üé® Creative/Sales</h4>
                        <p style="color: var(--text-muted); margin: 10px 0;">Best for: Marketing, Sales, Hospitality</p>
                        <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 13px;">View Template ‚Üí</button>
                    </div>
                </div>
                <button class="btn btn-primary btn-block" onclick="closeModal()" style="margin-top: 20px;">Close</button>
            `);
        }

        function viewTemplate(type) {
            const templates = {
                modern: `
                    <h3 style="color: var(--emerald);">Modern Professional CV Template</h3>
                    <div class="cv-template-preview">
                        <strong>TENDAI MOYO</strong><br>
                        +263 77 123 4567 | tendai@email.com | Harare, Zimbabwe<br><br>
                        
                        <strong>PROFESSIONAL SUMMARY</strong><br>
                        Results-driven [Your Role] with [X] years experience in [Industry]. Proven track record of [Key Achievement]. Skilled in [Top 3 Skills].<br><br>
                        
                        <strong>WORK EXPERIENCE</strong><br>
                        <strong>Senior [Role]</strong> | Company Name | 2023 - Present<br>
                        ‚Ä¢ Increased [Metric] by [%] through [Action] (STAR Method)<br>
                        ‚Ä¢ Led [Project] resulting in [Specific Outcome]<br>
                        ‚Ä¢ Managed team of [Number] achieving [Result]<br><br>
                        
                        <strong>EDUCATION</strong><br>
                        Bachelor of [Degree] | University of Zimbabwe | 2021<br><br>
                        
                        <strong>KEY SKILLS</strong><br>
                        Technical: [Skill 1], [Skill 2], [Skill 3]<br>
                        Soft Skills: Communication, Leadership, Problem-Solving<br><br>
                        
                        <strong>REFERENCES</strong><br>
                        Available upon request
                    </div>
                    <button class="btn btn-primary btn-block" onclick="closeModal(); showCVTemplates()">‚Üê Back to Templates</button>
                `,
                technical: `
                    <h3 style="color: var(--emerald);">Technical/Trade CV Template</h3>
                    <div class="cv-template-preview">
                        <strong>SIMBA NDLOVU</strong><br>
                        Mining Engineer | +263 71 234 5678 | simba@email.com<br><br>
                        
                        <strong>OBJECTIVE</strong><br>
                        Certified [Trade/Engineering Role] with [X] years hands-on experience in [Sector].<br><br>
                        
                        <strong>CERTIFICATIONS & LICENSES</strong><br>
                        ‚Ä¢ [Professional Certification] - [Year]<br>
                        ‚Ä¢ [License/Permit] - Valid until [Date]<br><br>
                        
                        <strong>TECHNICAL SKILLS</strong><br>
                        Equipment: [List specific machinery/tools]<br>
                        Processes: [Technical processes/methods]<br>
                        Safety: [Safety protocols/certifications]<br><br>
                        
                        <strong>WORK EXPERIENCE</strong><br>
                        <strong>[Technical Role]</strong> | Company | 2020 - Present<br>
                        ‚Ä¢ Operated [Equipment] achieving [Safety Record/Output]<br>
                        ‚Ä¢ Reduced downtime by [%] through [Maintenance Practice]<br><br>
                        
                        <strong>REFERENCES</strong><br>
                        [Supervisor Name] | [Title] | +263 XX XXX XXXX
                    </div>
                    <button class="btn btn-primary btn-block" onclick="closeModal(); showCVTemplates()">‚Üê Back to Templates</button>
                `,
                creative: `
                    <h3 style="color: var(--emerald);">Creative/Sales CV Template</h3>
                    <div class="cv-template-preview">
                        <strong>RUDO CHAKANYUKA</strong><br>
                        Creative Marketing Professional<br>
                        +263 78 234 5678 | rudo@email.com<br><br>
                        
                        <strong>BRAND PROMISE</strong><br>
                        Energetic [Role] who transforms ideas into results.<br><br>
                        
                        <strong>CAREER HIGHLIGHTS</strong><br>
                        ‚úì Increased sales by [%] through [Creative Campaign]<br>
                        ‚úì Created [Number] successful campaigns for [Client Types]<br><br>
                        
                        <strong>PROFESSIONAL EXPERIENCE</strong><br>
                        <strong>[Creative Role]</strong> | Company | 2022 - Present<br>
                        ‚Üí Designed [Deliverable] resulting in [Outcome]<br>
                        ‚Üí Increased [Metric] by [%] through [Strategy]<br><br>
                        
                        <strong>SKILLS & TOOLS</strong><br>
                        Creative: Photoshop, Illustrator, Canva<br>
                        Marketing: Social Media, SEO, Analytics<br><br>
                        
                        <strong>PORTFOLIO HIGHLIGHTS</strong><br>
                        ‚Ä¢ [Project 1]: [Brief Description + Result]
                    </div>
                    <button class="btn btn-primary btn-block" onclick="closeModal(); showCVTemplates()">‚Üê Back to Templates</button>
                `
            };
            
            showModal('CV Template', templates[type]);
        }

        function renderRoleGrid() {
            const grid = document.getElementById('roleGrid');
            if (!grid) return;
            
            grid.innerHTML = PROFESSIONAL_ROLES.map(role => `
                <div class="role-option" onclick="toggleRole('${role}')" data-role="${role}">
                    ${role}
                </div>
            `).join('');
        }

        function toggleRole(roleName) {
            const element = document.querySelector(`[data-role="${roleName}"]`);
            
            if (selectedRoles.includes(roleName)) {
                selectedRoles = selectedRoles.filter(r => r !== roleName);
                element.classList.remove('selected');
            } else {
                selectedRoles.push(roleName);
                element.classList.add('selected');
            }
            
            updateSelectedRolesDisplay();
        }

        function updateSelectedRolesDisplay() {
            const display = document.getElementById('selectedRolesDisplay');
            if (!display) return;
            
            if (selectedRoles.length === 0) {
                display.innerHTML = '<span style="color: var(--text-muted); font-size: 13px;">Selected roles will appear here...</span>';
            } else {
                display.innerHTML = selectedRoles.map(role => `
                    <div class="role-tag">
                        ${role}
                        <span class="remove" onclick="toggleRole('${role}')">‚úï</span>
                    </div>
                `).join('');
            }
        }

        function selectAllRoles() {
            const allRoleElements = document.querySelectorAll('.role-option');
            
            if (selectedRoles.length === PROFESSIONAL_ROLES.length) {
                selectedRoles = [];
                allRoleElements.forEach(el => el.classList.remove('selected'));
            } else {
                selectedRoles = [...PROFESSIONAL_ROLES];
                allRoleElements.forEach(el => el.classList.add('selected'));
            }
            
            updateSelectedRolesDisplay();
        }

        function filterRoles() {
            const searchTerm = document.getElementById('roleSearch').value.toLowerCase();
            const roleOptions = document.querySelectorAll('.role-option');
            
            roleOptions.forEach(option => {
                const roleName = option.getAttribute('data-role').toLowerCase();
                if (roleName.includes(searchTerm)) {
                    option.style.display = 'block';
                } else {
                    option.style.display = 'none';
                }
            });
        }

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            
            // Update active tab
            const activeTab = Array.from(document.querySelectorAll('.nav-tab')).find(tab => {
                const onclick = tab.getAttribute('onclick');
                return onclick && onclick.includes(`'${sectionId}'`);
            });
            if (activeTab) {
                activeTab.classList.add('active');
            }

            if (sectionId === 'admin') {
                updateAdminDashboard();
            }

            if (sectionId === 'jobboard') {
                renderJobBoard();
            }
            
            if (sectionId === 'jobseeker-dashboard') {
                loadJobSeekerDashboard();
            }
            
            if (sectionId === 'employer-dashboard') {
                loadEmployerDashboard();
            }
        }

        function showAdminSection() {
            const password = prompt('üîê Enter Admin Password:');
            
            if (password === ADMIN_PASSWORD) {
                showSection('admin');
            } else if (password !== null) {
                alert('‚ùå Wrong Password');
            }
        }

        function startPersonalityTest() {
            const name = document.getElementById('js_name').value.trim();
            const whatsapp = document.getElementById('js_whatsapp').value.trim();
            const email = document.getElementById('js_email').value.trim();
            const location = document.getElementById('js_location').value;
            const skills = document.getElementById('js_skills').value.trim();
            const experience = document.getElementById('js_experience').value;

            if (!name || !whatsapp || !email || !location || !skills || !experience || !cvFileData || selectedRoles.length === 0) {
                alert('Please fill in all required fields, upload your CV, and select at least one role.');
                return;
            }

            if (whatsapp.length < 9) {
                alert('Please enter a valid WhatsApp number (9-10 digits)');
                return;
            }

            document.getElementById('jobseekerForm').style.display = 'none';
            document.getElementById('testSection').style.display = 'block';

            let testHTML = `
                <div class="quiz-container">
                    <h3 style="color: var(--emerald); margin-bottom: 20px; font-weight: 700;">Professional Attributes & Personality Assessment</h3>
                    <p style="margin-bottom: 35px; color: var(--text-muted);">Answer these questions honestly - there are no wrong answers!</p>
            `;

            PERSONALITY_TEST.forEach((q, index) => {
                testHTML += `
                    <div class="question">
                        <h4>Question ${index + 1}: ${q.question}</h4>
                        <div class="options">
                `;
                
                q.options.forEach((option, optIndex) => {
                    testHTML += `
                        <div class="option" onclick="selectOption(this, ${index}, ${optIndex})">
                            ${option}
                        </div>
                    `;
                });

                testHTML += `
                        </div>
                    </div>
                `;
            });

            testHTML += `
                <button type="button" class="btn btn-primary btn-block" onclick="submitJobSeekerProfile()">
                    Complete Profile & Get Matched
                </button>
            </div>
            `;

            document.getElementById('testSection').innerHTML = testHTML;
        }

        function selectOption(element, questionIndex, optionIndex) {
            element.parentElement.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            element.classList.add('selected');
            testAnswers[questionIndex] = optionIndex;
        }

        function submitJobSeekerProfile() {
            const name = document.getElementById('js_name').value.trim();
            const whatsapp = document.getElementById('js_whatsapp').value.trim();
            const email = document.getElementById('js_email').value.trim();
            const location = document.getElementById('js_location').value;
            const skills = document.getElementById('js_skills').value.trim().split(',').map(s => s.trim());
            const experience = document.getElementById('js_experience').value;

            let correctAnswers = 0;
            PERSONALITY_TEST.forEach((q, index) => {
                if (testAnswers[index] === q.correct) {
                    correctAnswers++;
                }
            });

            const personalityScore = (correctAnswers / PERSONALITY_TEST.length) * 100;

            const profile = {
                id: Date.now(),
                userId: auth.getUserId(),
                name,
                whatsapp,
                email,
                location,
                roles: [...selectedRoles],
                skills,
                experience,
                cvText: cvFileData.text || '',
                cvFile: cvFileData,
                videoFile: videoFileData,
                profilePicture: profilePictureData,
                personalityScore,
                createdAt: new Date().toISOString(),
                deviceID: DEVICE_ID
            };

            const success = storage.addJobSeeker(profile);
            
            if (success) {
                jobSeekers = storage.jobSeekers;

                document.getElementById('testSection').style.display = 'none';
                document.getElementById('jobseekerSuccess').style.display = 'block';

                updateStats();
                updateAdminDashboard();

                selectedRoles = [];
                testAnswers = [];
                cvFileData = null;
                videoFileData = null;
                profilePictureData = null;
                
                setTimeout(() => {
                    showSection('jobseeker-dashboard');
                    loadJobSeekerDashboard();
                }, 3000);
            }
        }

        function toggleEmployerPreference(element, value) {
            element.classList.toggle('selected');
        }

        function updateJobDescription() {
            const role = document.getElementById('emp_role').value;
            const descField = document.getElementById('emp_description');
            
            const descriptions = {
                "Technology": "We're seeking a tech-savvy professional to join our innovative team.",
                "Sales & Marketing": "Dynamic opportunity for a results-driven sales professional.",
                "Administration": "Organized and detail-oriented administrative professional needed.",
                "Design & Creative": "Creative talent wanted to bring our brand vision to life.",
                "Agriculture": "Agricultural expert needed for our growing operations.",
                "Healthcare": "Compassionate healthcare professional to join our medical team.",
                "Education": "Passionate educator to inspire and teach students.",
                "Hospitality": "Customer-focused professional for our hospitality operations.",
                "Construction": "Skilled construction professional for ongoing projects.",
                "Mining": "Mining industry professional with relevant experience."
            };

            if (role && descriptions[role]) {
                descField.value = descriptions[role];
            }
        }

        function postJobAndGetMatches() {
            const company = document.getElementById('emp_company').value.trim();
            const whatsapp = document.getElementById('emp_whatsapp').value.trim();
            const email = document.getElementById('emp_email').value.trim();
            const jobTitle = document.getElementById('emp_jobtitle').value.trim();
            const roleCategory = document.getElementById('emp_role').value;
            const description = document.getElementById('emp_description').value.trim();
            const deadline = document.getElementById('emp_deadline').value;
            
            if (!company || !whatsapp || !email || !jobTitle || !roleCategory || !description || !deadline) {
                alert('Please fill in all required fields.');
                return;
            }

            if (whatsapp.length < 9) {
                alert('Please enter a valid WhatsApp number');
                return;
            }

            const deadlineDate = new Date(deadline);
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            if (deadlineDate < today) {
                alert('Deadline must be in the future');
                return;
            }

            const preferences = [];
            document.querySelectorAll('.role-option.selected input[type="checkbox"]').forEach(input => {
                preferences.push(input.value);
            });

            const job = {
                id: Date.now(),
                userId: auth.getUserId(),
                company,
                whatsapp,
                email,
                jobTitle,
                roleCategory,
                description,
                deadline,
                preferences,
                isLive: true,
                postedAt: new Date().toISOString(),
                posterID: DEVICE_ID
            };

            const success = storage.addJob(job);
            
            if (!success) return;
            
            postedJobs = storage.postedJobs;

            storage.addSearchLog({
                id: Date.now(),
                userId: auth.getUserId(),
                company,
                jobTitle,
                roleCategory,
                timestamp: new Date().toISOString()
            });
            employerSearchLog = storage.employerSearchLog;

            showModal('Job Posted Successfully!', `
                <div class="success-message">
                    <h3>üéâ Job is Now Live!</h3>
                    <p><strong>${jobTitle}</strong> at <strong>${company}</strong> has been posted successfully.</p>
                    <p style="margin-top: 15px;">
                        üì± You will receive WhatsApp alerts at <strong>+263${whatsapp}</strong><br>
                        üìß Email alerts will be sent to <strong>${email}</strong><br>
                        when new matching candidates join the platform.
                    </p>
                    <p style="margin-top: 15px; padding: 15px; background: var(--light-gold); border-radius: 10px;">
                        üí° <strong>Tip:</strong> You can pause or delete this job anytime from your dashboard or the Job Board.
                    </p>
                    <p style="margin-top: 10px; font-size: 14px; color: var(--text-muted);">
                        üóìÔ∏è Job expires: ${new Date(deadline).toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' })}
                    </p>
                </div>
                <button class="btn btn-primary btn-block" onclick="closeModal(); viewJobMatches()">
                    View Matching Candidates Now
                </button>
            `);

            updateStats();
            updateAdminDashboard();
            renderJobBoard();
        }

        function viewJobMatches() {
            const job = postedJobs[postedJobs.length - 1];
            
            document.getElementById('resultsSection').style.display = 'block';
            document.getElementById('candidatesList').innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 48px; margin-bottom: 20px;">üîç</div>
                    <p style="color: var(--emerald); font-weight: 600; font-size: 16px;">AI is finding all matching candidates...</p>
                </div>
            `;

            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });

            setTimeout(() => {
                const matches = enhancedMatchCandidates(job.roleCategory, job.company, job.jobTitle, job.preferences, job.description);
                displayResults(matches, job.company, job.jobTitle);
            }, 2000);
        }

        // [Continue with remaining functions from original code - enhancedMatchCandidates, displayResults, etc.]
        // Due to character limits, I'll provide the key matching and display functions

        function enhancedMatchCandidates(targetRoleCategory, company, jobTitle, preferences = [], jobDescription = '') {
            if (jobSeekers.length === 0) {
                return [];
            }

            const roleMapping = {
                "Technology": ["Junior Developer", "Senior Developer", "Web Designer", "IT Support", "Network Administrator", "Data Analyst", "Software Engineer", "Mobile App Developer"],
                "Sales & Marketing": ["Sales Representative", "Marketing Manager", "Business Development", "Account Manager", "Digital Marketer", "Brand Manager", "Sales Coordinator"],
                "Administration": ["Admin Assistant", "Office Manager", "Receptionist", "Executive Assistant", "Data Entry Clerk", "Secretary", "Office Administrator"],
                "Design & Creative": ["Graphic Designer", "Photographer", "Videographer", "UI/UX Designer", "Content Creator", "Copywriter"],
                "Finance & Accounting": ["Accountant", "Bookkeeper", "Financial Analyst", "Auditor", "Payroll Officer", "Tax Consultant", "Finance Manager"],
                "Healthcare": ["Nurse", "Pharmacist", "Medical Doctor", "Physiotherapist", "Lab Technician", "Healthcare Assistant", "Radiographer"],
                "Education": ["Teacher", "Lecturer", "Teaching Assistant", "Education Coordinator", "School Administrator", "Tutor"],
                "Hospitality": ["Hotel Manager", "Chef", "Waiter/Waitress", "Tour Guide", "Front Desk Officer", "Restaurant Manager", "Bartender"],
                "Agriculture": ["Farm Manager", "Agricultural Officer", "Agronomist", "Livestock Manager", "Irrigation Specialist", "Farm Supervisor"],
                "Construction": ["Civil Engineer", "Architect", "Quantity Surveyor", "Construction Manager", "Electrician", "Plumber", "Carpenter", "Site Supervisor"],
                "Mining": ["Mining Engineer", "Geologist", "Mine Supervisor", "Safety Officer", "Plant Operator", "Drilling Operator"]
            };

            const targetRoles = roleMapping[targetRoleCategory] || [];
            const requiredSkillsMap = {
                "Technology": ["JavaScript", "HTML", "CSS", "Programming", "Technical", "React", "Python", "Node", "Git"],
                "Sales & Marketing": ["Communication", "Sales", "Negotiation", "CRM", "Marketing", "Customer", "Presentation"],
                "Administration": ["Microsoft Office", "Excel", "Organization", "Data Entry", "Communication", "Filing", "Scheduling"],
                "Design & Creative": ["Photoshop", "Design", "Creativity", "Illustrator", "Figma", "Branding", "Typography"],
                "Finance & Accounting": ["Accounting", "Excel", "Financial", "QuickBooks", "Tax", "Bookkeeping", "Analysis"],
                "Healthcare": ["Patient Care", "Medical", "First Aid", "Healthcare", "Empathy", "Nursing", "Clinical"],
                "Education": ["Teaching", "Communication", "Student", "Education", "Patience", "Lesson", "Assessment"],
                "Hospitality": ["Customer Service", "Hospitality", "Communication", "Service", "Management", "Food"],
                "Agriculture": ["Agriculture", "Farming", "Livestock", "Crop", "Management", "Irrigation"],
                "Construction": ["Construction", "Engineering", "Building", "Safety", "Management", "Blueprint"],
                "Mining": ["Mining", "Geology", "Safety", "Operations", "Technical", "Equipment"]
            };

            const requiredSkills = (requiredSkillsMap[targetRoleCategory] || []).map(s => s.toLowerCase());

            const scoredCandidates = jobSeekers.map(candidate => {
                let score = 0;
                let explanation = [];
                
                const hasExplicitRole = candidate.roles.some(role => targetRoles.includes(role));

                const candidateSkills = candidate.skills.map(s => s.toLowerCase());
                const cvText = (candidate.cvText || '').toLowerCase();
                
                let skillMatches = 0;
                let cvMatches = 0;
                
                requiredSkills.forEach(req => {
                    const skillMatch = candidateSkills.some(cs => cs.includes(req) || req.includes(cs));
                    const cvMatch = cvText.includes(req);
                    
                    if (skillMatch) skillMatches++;
                    if (cvMatch) cvMatches++;
                });
                
                const skillScore = requiredSkills.length > 0 
                    ? ((skillMatches + cvMatches) / (requiredSkills.length * 2)) * 100 
                    : 50;
                
                score += skillScore * 0.6;
                
                if (skillScore >= 80) {
                    explanation.push("Excellent CV and skills match");
                } else if (skillScore >= 60) {
                    explanation.push("Strong skills alignment");
                } else if (skillScore >= 40) {
                    explanation.push("Good transferable skills");
                }

                let roleScore = 0;
                if (hasExplicitRole) {
                    roleScore = 100;
                    explanation.push("Direct role category match");
                } else if (skillScore >= 40) {
                    roleScore = 60;
                    explanation.push("üåü Hidden Gem - Cross-role skills match");
                } else {
                    return null;
                }
                
                score += roleScore * 0.25;

                score += candidate.personalityScore * 0.15;
                
                if (candidate.personalityScore === 100) {
                    explanation.push("Perfect personality assessment");
                } else if (candidate.personalityScore >= 80) {
                    explanation.push("Strong professional attributes");
                }

                const expMap = {
                    '0-1': 5,
                    '1-3': 8,
                    '3-5': 12,
                    '5+': 15
                };
                score += expMap[candidate.experience] || 0;

                if (candidate.videoFile) {
                    score += 5;
                    explanation.push("Video introduction available");
                }

                if (preferences.includes('trustworthy') && candidate.personalityScore >= 80) {
                    score += 3;
                }
                if (preferences.includes('experienced') && (candidate.experience === '3-5' || candidate.experience === '5+')) {
                    score += 3;
                }
                if (preferences.includes('energetic') && (candidate.experience === '0-1' || candidate.experience === '1-3')) {
                    score += 3;
                }

                return {
                    ...candidate,
                    matchScore: Math.min(Math.round(score), 100),
                    matchedSkills: candidateSkills.filter(cs => 
                        requiredSkills.some(req => cs.includes(req) || req.includes(cs))
                    ),
                    skillScore: Math.round(skillScore),
                    roleScore: Math.round(roleScore),
                    explanation: explanation.join(". ") + ".",
                    isCrossRoleMatch: !hasExplicitRole && skillScore >= 40,
                    company,
                    jobTitle
                };
            }).filter(c => c !== null);

            const sorted = scoredCandidates.sort((a, b) => b.matchScore - a.matchScore);
            sorted.forEach((candidate, index) => {
                candidate.isPremiumMatch = index < 5;
            });

            return sorted;
        }

        // Rest of the functions (displayResults, etc.) remain the same as original...
        // Continuing with key remaining functions due to space

        function applyToJob(jobId) {
            const job = postedJobs.find(j => j.id === jobId);
            if (!job) return;

            // Check if user is logged in
            if (!auth.isLoggedIn()) {
                showModal('Login Required', `
                    <div class="login-gate-message">
                        <h3>üéØ Login to apply for this job</h3>
                        <p>Create your account or login to apply for <strong>${job.jobTitle}</strong> at <strong>${job.company}</strong></p>
                        <div style="display: flex; gap: 15px; justify-content: center; margin-top: 25px;">
                            <button class="btn btn-primary" onclick="closeModal(); showLoginModal()">Login</button>
                            <button class="btn btn-secondary" onclick="closeModal(); showSignupModal()">Create Account</button>
                        </div>
                    </div>
                `);
                return;
            }

            // If job seeker, check if profile exists
            if (auth.getUserRole() === 'jobseeker') {
                const profile = storage.getJobSeekerByUserId(auth.getUserId());
                
                if (!profile) {
                    alert('Please create your profile first before applying to jobs.');
                    showSection('jobseeker');
                    return;
                }

                // Apply with existing profile
                const matches = enhancedMatchCandidates(job.roleCategory, job.company, job.jobTitle, job.preferences, job.description);
                const match = matches.find(m => m.id === profile.id);
                const matchScore = match ? match.matchScore : 0;

                const application = {
                    id: Date.now(),
                    jobId,
                    jobTitle: job.jobTitle,
                    company: job.company,
                    applicantName: profile.name,
                    applicantWhatsapp: profile.whatsapp,
                    applicantEmail: profile.email,
                    message: '',
                    matchScore,
                    hasProfile: true,
                    appliedAt: new Date().toISOString()
                };

                storage.addApplication(application);
                applicationLog = storage.applicationLog;

                showModal('Application Submitted!', `
                    <div class="success-message">
                        <h3>‚úÖ Application Sent Successfully!</h3>
                        <p>Your application for <strong>${job.jobTitle}</strong> at <strong>${job.company}</strong> has been submitted.</p>
                        ${matchScore > 0 ? `
                            <div style="margin: 20px 0; padding: 20px; background: white; border-radius: 12px;">
                                <div style="text-align: center;">
                                    <div class="score-circle" style="margin: 0 auto 10px;">${matchScore}</div>
                                    <p style="color: var(--emerald); font-weight: 600;">Your Match Score</p>
                                    <small style="color: var(--text-muted);">Based on CV/Skills (60%), Role Interest (25%), Personality (15%)</small>
                                </div>
                            </div>
                        ` : ''}
                        <p style="margin-top: 15px;">The employer will contact you at <strong>+263${profile.whatsapp}</strong> if interested.</p>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="closeModal()">Close</button>
                `);

                updateStats();
                updateAdminDashboard();
                return;
            }

            // Guest or employer fallback (show manual application)
            showModal('Apply to Job', `
                <div class="form-container">
                    <h3 style="color: var(--emerald); margin-bottom: 15px;">Apply to ${job.jobTitle}</h3>
                    <p style="margin-bottom: 20px;">at <strong>${job.company}</strong></p>

                    <p style="padding: 20px; background: var(--light-gold); border-radius: 12px; margin-bottom: 20px;">
                        üí° <strong>Quick Apply:</strong> Create a Job Seeker account to apply automatically with your saved profile and CV.
                    </p>

                    <div class="form-group">
                        <label>Your Name *</label>
                        <input type="text" id="apply_name" placeholder="Full Name">
                    </div>

                    <div class="form-group">
                        <label>WhatsApp Number *</label>
                        <div class="whatsapp-input-group">
                            <div class="whatsapp-prefix">+263</div>
                            <input type="tel" id="apply_whatsapp" class="whatsapp-input" placeholder="77 123 4567" maxlength="10">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" id="apply_email" placeholder="your@email.com">
                    </div>

                    <div class="form-group">
                        <label>Brief Message (Optional)</label>
                        <textarea id="apply_message" placeholder="Why are you a good fit for this role?" rows="4"></textarea>
                    </div>

                    <button class="btn btn-primary btn-block" onclick="submitManualApplication(${jobId})">
                        Submit Application
                    </button>
                </div>
            `);
        }

        function submitManualApplication(jobId) {
            const name = document.getElementById('apply_name').value.trim();
            const whatsapp = document.getElementById('apply_whatsapp').value.trim();
            const email = document.getElementById('apply_email').value.trim();
            const message = document.getElementById('apply_message').value.trim();

            if (!name || !whatsapp || !email) {
                alert('Please fill in all required fields');
                return;
            }

            const job = postedJobs.find(j => j.id === jobId);

            const application = {
                id: Date.now(),
                jobId,
                jobTitle: job.jobTitle,
                company: job.company,
                applicantName: name,
                applicantWhatsapp: whatsapp,
                applicantEmail: email,
                message,
                matchScore: 0,
                hasProfile: false,
                appliedAt: new Date().toISOString()
            };

            storage.addApplication(application);
            applicationLog = storage.applicationLog;

            showModal('Application Submitted!', `
                <div class="success-message">
                    <h3>‚úÖ Application Sent Successfully!</h3>
                    <p>Your application for <strong>${job.jobTitle}</strong> at <strong>${job.company}</strong> has been submitted.</p>
                    <p style="margin-top: 15px;">The employer will contact you at <strong>+263${whatsapp}</strong> if interested.</p>
                </div>
                <button class="btn btn-primary btn-block" onclick="closeModal()">Close</button>
            `);

            updateStats();
            updateAdminDashboard();
        }

        // Additional utility and display functions remain same as original
        // Including: renderJobBoard, toggleJobStatus, deleteJob, updateStats, etc.

        function renderJobBoard() {
            const container = document.getElementById('jobBoardContainer');
            storage.removeExpiredJobs();
            postedJobs = storage.postedJobs;

            if (postedJobs.length === 0) {
                container.innerHTML = `
                    <div class="form-container" style="text-align: center; padding: 60px 40px; grid-column: 1 / -1;">
                        <h3 style="color: var(--text-muted); margin-bottom: 20px;">No Jobs Posted Yet</h3>
                        <p style="color: var(--text-muted);">Check back soon for new opportunities!</p>
                    </div>
                `;
                return;
            }

            const now = new Date();
            
            container.innerHTML = postedJobs.map(job => {
                const deadline = new Date(job.deadline);
                const isExpired = deadline < now;
                const canManage = job.userId === auth.getUserId() || job.posterID === DEVICE_ID;

                return `
                    <div class="job-card ${!job.isLive || isExpired ? 'inactive' : ''}">
                        <span class="job-status-badge ${isExpired ? 'job-status-expired' : (job.isLive ? 'job-status-live' : 'job-status-paused')}">
                            ${isExpired ? '‚è∞ EXPIRED' : (job.isLive ? 'üü¢ LIVE' : '‚è∏Ô∏è PAUSED')}
                        </span>
                        
                        <h3 style="color: var(--emerald); margin-bottom: 10px; font-weight: 700;">${job.jobTitle}</h3>
                        <p style="color: var(--text-muted); font-size: 14px; margin-bottom: 15px;">
                            <strong>${job.company}</strong> ‚Ä¢ ${job.roleCategory}
                        </p>
                        
                        <p style="color: var(--text-dark); margin-bottom: 20px; line-height: 1.6;">
                            ${job.description}
                        </p>

                        <div style="padding-top: 15px; border-top: 1px solid rgba(4, 120, 87, 0.1); font-size: 13px; color: var(--text-muted);">
                            üìÖ Posted ${new Date(job.postedAt).toLocaleDateString()}<br>
                            üóìÔ∏è Deadline: ${deadline.toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' })}
                        </div>

                        ${job.isLive && !isExpired ? `
                            <button class="btn btn-primary btn-block" onclick="applyToJob(${job.id})" style="margin-top: 15px;">
                                Apply Now
                            </button>
                        ` : `
                            <button class="btn btn-block" disabled style="margin-top: 15px; opacity: 0.5; cursor: not-allowed; background: #ccc;">
                                ${isExpired ? 'Job Expired' : 'Job Currently Paused'}
                            </button>
                        `}

                        ${canManage && !isExpired ? `
                            <div style="margin-top: 15px; text-align: center; display: flex; gap: 10px; justify-content: center;">
                                <button class="job-manage-btn ${job.isLive ? 'pause' : 'activate'}" onclick="toggleJobStatus(${job.id})">
                                    ${job.isLive ? '‚è∏Ô∏è Pause' : '‚ñ∂Ô∏è Activate'}
                                </button>
                                <button class="job-manage-btn delete" onclick="deleteJob(${job.id})">
                                    üóëÔ∏è Delete
                                </button>
                            </div>
                        ` : ''}
                    </div>
                `;
            }).join('');
        }

        function toggleJobStatus(jobId) {
            storage.toggleJobStatus(jobId);
            postedJobs = storage.postedJobs;
            renderJobBoard();
            updateStats();
            
            const job = postedJobs.find(j => j.id === jobId);
            if (job) {
                alert(`‚úÖ Job "${job.jobTitle}" is now ${job.isLive ? 'LIVE' : 'PAUSED'}`);
            }
        }

        function deleteJob(jobId) {
            const job = postedJobs.find(j => j.id === jobId);
            if (!job) return;
            
            if (confirm(`Are you sure you want to delete "${job.jobTitle}"? This action cannot be undone.`)) {
                storage.deleteJob(jobId);
                postedJobs = storage.postedJobs;
                renderJobBoard();
                updateStats();
                updateAdminDashboard();
                if (auth.getUserRole() === 'employer') {
                    loadEmployerDashboard();
                }
                alert('‚úÖ Job deleted successfully');
            }
        }

        function updateStats() {
            const actualSeekers = jobSeekers.length;
            const actualJobs = postedJobs.filter(j => j.isLive && new Date(j.deadline) >= new Date()).length;
            const actualMatches = employerSearchLog.length + applicationLog.length;
            
            const SOCIAL_PROOF = {
                SEEKERS: 100,
                JOBS: 30
            };
            
            const displaySeekers = actualSeekers + SOCIAL_PROOF.SEEKERS;
            const displayJobs = actualJobs + SOCIAL_PROOF.JOBS;
            
            const statSeekersEl = document.getElementById('stat-seekers');
            const statJobsEl = document.getElementById('stat-jobs');
            const statMatchesEl = document.getElementById('stat-matches');
            
            if (statSeekersEl) statSeekersEl.textContent = displaySeekers;
            if (statJobsEl) statJobsEl.textContent = displayJobs;
            if (statMatchesEl) statMatchesEl.textContent = actualMatches;
            
            const tickerSeekers = document.getElementById('ticker-seekers');
            if (tickerSeekers) {
                tickerSeekers.textContent = displaySeekers;
            }
        }

        function updateAdminDashboard() {
            const adminSeekersEl = document.getElementById('admin_total_seekers');
            const adminJobsEl = document.getElementById('admin_total_jobs');
            const adminSearchesEl = document.getElementById('admin_total_searches');
            const adminAppsEl = document.getElementById('admin_total_applications');
            
            if (adminSeekersEl) adminSeekersEl.textContent = jobSeekers.length;
            if (adminJobsEl) adminJobsEl.textContent = postedJobs.length;
            if (adminSearchesEl) adminSearchesEl.textContent = employerSearchLog.length;
            if (adminAppsEl) adminAppsEl.textContent = applicationLog.length;

            storage.checkStorageHealth();

            const seekersTable = document.getElementById('adminJobSeekersTable');
            if (seekersTable) {
                seekersTable.innerHTML = `
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Location</th>
                                <th>WhatsApp</th>
                                <th>Email</th>
                                <th>Roles</th>
                                <th>Experience</th>
                                <th>Personality</th>
                                <th>Joined</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${jobSeekers.map(js => `
                                <tr>
                                    <td><strong>${js.name}</strong></td>
                                    <td>${js.location}</td>
                                    <td>+263${js.whatsapp}</td>
                                    <td>${js.email}</td>
                                    <td>${js.roles.slice(0, 2).join(', ')}${js.roles.length > 2 ? '...' : ''}</td>
                                    <td>${js.experience} years</td>
                                    <td>${Math.round(js.personalityScore)}%</td>
                                    <td>${new Date(js.createdAt).toLocaleDateString()}</td>
                                    <td>
                                        <button class="btn-danger" style="padding: 6px 12px; font-size: 12px;" onclick="deleteJobSeekerAdmin(${js.id})">
                                            Delete
                                        </button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
            }

            const jobsTable = document.getElementById('adminJobsTable');
            if (jobsTable) {
                jobsTable.innerHTML = `
                    <table>
                        <thead>
                            <tr>
                                <th>Job Title</th>
                                <th>Company</th>
                                <th>Category</th>
                                <th>Status</th>
                                <th>Deadline</th>
                                <th>Posted</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${postedJobs.map(job => {
                                const isExpired = new Date(job.deadline) < new Date();
                                return `
                                    <tr>
                                        <td><strong>${job.jobTitle}</strong></td>
                                        <td>${job.company}</td>
                                        <td>${job.roleCategory}</td>
                                        <td><span style="color: ${isExpired ? '#dc2626' : (job.isLive ? '#10b981' : '#f59e0b')}; font-weight: 600;">${isExpired ? 'EXPIRED' : (job.isLive ? 'LIVE' : 'PAUSED')}</span></td>
                                        <td>${new Date(job.deadline).toLocaleDateString()}</td>
                                        <td>${new Date(job.postedAt).toLocaleDateString()}</td>
                                        <td>
                                            <button class="btn-danger" style="padding: 6px 12px; font-size: 12px;" onclick="deleteJobAdmin(${job.id})">
                                                Delete
                                            </button>
                                        </td>
                                    </tr>
                                `;
                            }).join('')}
                        </tbody>
                    </table>
                `;
            }

            const searchLogTable = document.getElementById('adminSearchLogTable');
            if (searchLogTable) {
                searchLogTable.innerHTML = `
                    <table>
                        <thead>
                            <tr>
                                <th>Company</th>
                                <th>Job Title</th>
                                <th>Category</th>
                                <th>Timestamp</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${employerSearchLog.slice(-10).reverse().map(log => `
                                <tr>
                                    <td><strong>${log.company}</strong></td>
                                    <td>${log.jobTitle}</td>
                                    <td>${log.roleCategory}</td>
                                    <td>${new Date(log.timestamp).toLocaleString()}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
            }
        }

        function deleteJobSeekerAdmin(id) {
            if (confirm('Are you sure you want to delete this job seeker profile?')) {
                storage.deleteJobSeeker(id);
                jobSeekers = storage.jobSeekers;
                updateAdminDashboard();
                updateStats();
                alert('‚úÖ Profile deleted successfully');
            }
        }

        function deleteJobAdmin(id) {
            const job = postedJobs.find(j => j.id === id);
            if (!job) return;
            
            if (confirm(`Are you sure you want to delete "${job.jobTitle}"? This action cannot be undone.`)) {
                storage.deleteJob(id);
                postedJobs = storage.postedJobs;
                updateAdminDashboard();
                updateStats();
                renderJobBoard();
                alert('‚úÖ Job deleted successfully');
            }
        }

        function showModal(title, content) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = content;
            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        function showNewsArticle(articleKey) {
            const article = NEWS_ARTICLES[articleKey];
            
            showModal(article.title, `
                <div style="background: rgba(255, 255, 255, 0.5); padding: 25px; border-radius: 15px; max-height: 500px; overflow-y: auto;">
                    <span class="news-tag">${article.tag}</span>
                    <div style="margin-top: 20px; line-height: 1.8; color: var(--text-dark); white-space: pre-line;">
                        ${article.fullText}
                    </div>
                </div>
                <button class="btn btn-primary btn-block" onclick="closeModal()" style="margin-top: 20px;">Close</button>
            `);
        }

        function filterSalaryTable() {
            const searchTerm = document.getElementById('salarySearch').value.toLowerCase();
            const rows = document.querySelectorAll('#salaryTable tbody tr');
            
            rows.forEach(row => {
                const role = row.cells[0].textContent.toLowerCase();
                row.style.display = role.includes(searchTerm) ? '' : 'none';
            });
        }

        function toggleDataSaver() {
            let dataSaverActive = localStorage.getItem('dataSaverMode') === 'true';
            dataSaverActive = !dataSaverActive;
            
            if (dataSaverActive) {
                document.body.classList.add('data-saver-mode');
                document.getElementById('dataSaverStatus').textContent = 'ON';
                localStorage.setItem('dataSaverMode', 'true');
            } else {
                document.body.classList.remove('data-saver-mode');
                document.getElementById('dataSaverStatus').textContent = 'OFF';
                localStorage.setItem('dataSaverMode', 'false');
            }
        }

        function showJobFair() {
            showModal('üé™ Virtual Job Fair - LIVE NOW', `
                <div style="background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%); color: white; padding: 30px; border-radius: 20px; text-align: center; margin-bottom: 20px;">
                    <h2 style="color: white; margin-bottom: 15px;">üî¥ LIVE Virtual Job Fair</h2>
                    <p style="font-size: 18px; opacity: 0.95;">Connect with Zimbabwe's top employers NOW</p>
                </div>
                
                <div style="background: white; padding: 25px; border-radius: 15px; margin-bottom: 20px;">
                    <h4 style="color: var(--emerald); margin-bottom: 15px;">Featured Employers Today:</h4>
                    <div style="display: grid; gap: 15px;">
                        <div style="padding: 15px; background: var(--light-gold); border-radius: 10px; border-left: 4px solid var(--gold);">
                            <strong>EcoCash Holdings</strong><br>
                            <small>Hiring: Software Developers, Customer Service Reps</small>
                        </div>
                        <div style="padding: 15px; background: var(--light-gold); border-radius: 10px; border-left: 4px solid var(--gold);">
                            <strong>Delta Beverages</strong><br>
                            <small>Hiring: Sales Representatives, Logistics Officers</small>
                        </div>
                        <div style="padding: 15px; background: var(--light-gold); border-radius: 10px; border-left: 4px solid var(--gold);">
                            <strong>OK Zimbabwe</strong><br>
                            <small>Hiring: Store Managers, Accountants</small>
                        </div>
                        <div style="padding: 15px; background: var(--light-gold); border-radius: 10px; border-left: 4px solid var(--gold);">
                            <strong>CBZ Bank</strong><br>
                            <small>Hiring: Tellers, Relationship Managers</small>
                        </div>
                    </div>
                </div>
                
                <div class="success-message">
                    <p>üí° <strong>How to participate:</strong></p>
                    <p style="margin-top: 10px; line-height: 1.8;">
                        1. Ensure your ZimGetHired profile is complete<br>
                        2. Browse the Job Board for live opportunities<br>
                        3. Apply directly or wait for employer contact<br>
                        4. Check your WhatsApp for interview requests
                    </p>
                </div>
                
                <button class="btn btn-primary btn-block" onclick="closeModal(); showSection('jobboard')">
                    View Job Board ‚Üí
                </button>
            `);
        }

        // Schedule interview function (rest remains same)
        function scheduleInterview(candidateId, name, whatsapp, company, jobTitle) {
            const date = document.getElementById(`interview_date_${candidateId}`).value;
            const time = document.getElementById(`interview_time_${candidateId}`).value;
            
            if (!date || !time) {
                alert('‚ö†Ô∏è Please select both date and time for the interview.');
                return;
            }
            
            const formattedDate = new Date(date).toLocaleDateString('en-GB', { 
                weekday: 'long',
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            });
            
            const message = `Hi ${name}! 

I found your profile on ZimGetHired for the ${jobTitle} position at ${company}.

I'd like to invite you for an interview:
üìÖ Date: ${formattedDate}
üïê Time: ${time}

Please confirm your availability. Looking forward to meeting you!`;
            
            const whatsappUrl = `https://wa.me/263${whatsapp}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // Display results function (abbreviated for space - full version same as original with candidate cards)
        function displayResults(matches, company, jobTitle) {
            const container = document.getElementById('candidatesList');

            if (matches.length === 0) {
                container.innerHTML = `
                    <div class="form-container" style="text-align: center; padding: 60px 40px;">
                        <h3 style="color: #dc2626; margin-bottom: 20px; font-weight: 700;">No Candidates Found</h3>
                        <p style="color: var(--text-muted); margin-bottom: 30px; font-size: 16px;">
                            No candidates match this role category yet. Check back soon!
                        </p>
                    </div>
                `;
                return;
            }

            // Generate candidate cards (same as original implementation)
            let html = '';
            const premiumCount = matches.filter(c => c.isPremiumMatch).length;
            const otherCount = matches.length - premiumCount;

            if (premiumCount > 0) {
                html += `
                    <div style="background: linear-gradient(135deg, var(--light-gold) 0%, #fef9e7 100%); padding: 25px; border-radius: 20px; margin-bottom: 30px; border-left: 5px solid var(--gold);">
                        <h3 style="color: var(--charcoal); margin-bottom: 10px;">‚≠ê Top ${premiumCount} Premium Matches</h3>
                        <p style="color: var(--text-muted);">These candidates have the highest match scores based on CV analysis (60%), role interest (25%), and personality test (15%).</p>
                    </div>
                `;
            }

            matches.forEach((candidate, index) => {
                if (index === 5 && otherCount > 0) {
                    html += `
                        <div style="background: white; padding: 20px; border-radius: 20px; margin: 30px 0; text-align: center; border: 2px dashed rgba(4, 120, 87, 0.2);">
                            <h4 style="color: var(--emerald); margin-bottom: 10px;">Additional ${otherCount} Matching Candidates</h4>
                            <p style="color: var(--text-muted); font-size: 14px;">All candidates below meet your requirements with direct WhatsApp contact</p>
                        </div>
                    `;
                }

                html += `
                    <div class="candidate-card ${candidate.isPremiumMatch ? 'premium-match' : ''}">
                        ${candidate.isPremiumMatch ? '<div class="premium-badge">‚≠ê PREMIUM MATCH</div>' : ''}
                        
                        <div class="candidate-header">
                            <div class="candidate-info">
                                <h3>${candidate.name}</h3>
                                <p>üìç ${candidate.location} | üìß ${candidate.email}</p>
                                <p style="color: var(--emerald); font-weight: 600; margin-top: 8px;">
                                    Roles: ${candidate.roles.slice(0, 3).join(', ')}${candidate.roles.length > 3 ? '...' : ''}
                                </p>
                                ${candidate.isCrossRoleMatch ? '<span class="hidden-gem-badge">‚ú® HIDDEN GEM - Cross-Role Match</span>' : ''}
                            </div>
                            <div class="match-score">
                                <div class="score-circle">${candidate.matchScore}</div>
                                <div class="score-label">Match Score</div>
                            </div>
                        </div>

                        <div class="explanation">
                            <strong>Match based on:</strong> ${candidate.explanation}
                            <br><small>Weighting: CV/Skills (60%), Role Interest (25%), Personality (15%)</small>
                        </div>

                        <div style="margin: 25px 0;">
                            <div class="detail-row">
                                <strong>CV & Skills Match:</strong>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${candidate.skillScore}%"></div>
                                </div>
                                <span style="font-weight: 700; color: var(--emerald);">${candidate.skillScore}%</span>
                            </div>

                            <div class="detail-row">
                                <strong>Role Interest:</strong>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${candidate.roleScore}%"></div>
                                </div>
                                <span style="font-weight: 700;">${candidate.roleScore}%</span>
                            </div>

                            <div class="detail-row">
                                <strong>Personality:</strong>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${candidate.personalityScore}%"></div>
                                </div>
                                <span style="font-weight: 700; color: var(--emerald);">${Math.round(candidate.personalityScore)}%</span>
                            </div>

                            <div class="detail-row">
                                <strong>Experience:</strong>
                                <span style="font-weight: 700;">${candidate.experience} years</span>
                            </div>
                        </div>

                        <div style="margin: 25px 0;">
                            <strong style="display: block; margin-bottom: 12px;">Matched Skills:</strong>
                            <div class="skills-match">
                                ${candidate.matchedSkills.slice(0, 8).map(skill => 
                                    `<span class="skill-tag skill-matched">‚úì ${skill}</span>`
                                ).join('')}
                                ${candidate.matchedSkills.length > 8 ? `<span class="skill-tag skill-matched">+${candidate.matchedSkills.length - 8} more</span>` : ''}
                            </div>
                        </div>

                        <div style="margin: 20px 0; padding: 15px; background: white; border-radius: 12px; border: 2px solid rgba(4, 120, 87, 0.1);">
                            <strong>Documents:</strong><br>
                            üìÑ CV: ${candidate.cvFile ? candidate.cvFile.name : 'Available'}
                            ${candidate.cvFile ? `
                                <button class="btn btn-secondary" 
                                        style="padding: 6px 12px; font-size: 12px; margin-left: 10px;" 
                                        onclick='viewCV(${JSON.stringify(candidate.cvFile)}, "${candidate.name}")'>
                                    üëÅÔ∏è View CV
                                </button>
                            ` : ''}
                            ${candidate.videoFile ? `
                                <br>üé• Video: ${candidate.videoFile.name}
                                <button class="btn btn-secondary" 
                                        style="padding: 6px 12px; font-size: 12px; margin-left: 10px;" 
                                        onclick='playVideo(${JSON.stringify(candidate.videoFile)}, "${candidate.name}")'>
                                    ‚ñ∂Ô∏è Play Video
                                </button>
                                <span style="color: var(--emerald); font-weight: 600;">‚≠ê 4x Response!</span>
                            ` : '<br><em style="color: var(--text-muted);">No video intro</em>'}
                        </div>

                        <div class="interview-scheduler">
                            <h4 style="color: var(--emerald); margin-bottom: 15px;">üìÖ Schedule Interview</h4>
                            <div class="scheduler-grid">
                                <div>
                                    <label style="font-size: 13px; font-weight: 600;">Interview Date:</label>
                                    <input type="date" 
                                           id="interview_date_${candidate.id}" 
                                           min="${new Date().toISOString().split('T')[0]}"
                                           style="padding: 10px; border-radius: 10px; border: 2px solid rgba(4, 120, 87, 0.2); width: 100%; font-family: 'Poppins', sans-serif;">
                                </div>
                                <div>
                                    <label style="font-size: 13px; font-weight: 600;">Interview Time:</label>
                                    <input type="time" 
                                           id="interview_time_${candidate.id}"
                                           style="padding: 10px; border-radius: 10px; border: 2px solid rgba(4, 120, 87, 0.2); width: 100%; font-family: 'Poppins', sans-serif;">
                                </div>
                            </div>
                            <button class="btn btn-success btn-block" 
                                    onclick="scheduleInterview(${candidate.id}, '${candidate.name}', '${candidate.whatsapp}', '${company}', '${jobTitle}')"
                                    style="margin-top: 15px; padding: 12px; font-size: 14px;">
                                ‚ö° Instant Book Interview via WhatsApp
                            </button>
                        </div>

                        <div class="action-buttons">
                            <a href="https://wa.me/263${candidate.whatsapp}?text=Hi%20${encodeURIComponent(candidate.name)}!%20I%20found%20your%20profile%20on%20ZimGetHired%20for%20${encodeURIComponent(jobTitle)}%20at%20${encodeURIComponent(company)}.%20Are%20you%20available%20for%20an%20interview?" 
                               target="_blank" 
                               class="whatsapp-btn">
                                <span style="font-size: 20px;">üì±</span> Contact on WhatsApp: +263${candidate.whatsapp}
                            </a>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // Initialize on page load
        window.onload = function() {
            initializeUI();
            renderJobBoard();
            updateStats();
            
            const savedPreference = localStorage.getItem('dataSaverMode');
            if (savedPreference === 'true') {
                document.body.classList.add('data-saver-mode');
                document.getElementById('dataSaverStatus').textContent = 'ON';
            }
        };

        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>		
